"use strict";var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=n(e),r=t(e);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u="$$concent_void_module_624313307",l="$$CcClass",d=Symbol("__for_sync_param_ccsync__"),f="computed",y={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},p={[y.CC_MODULE_NAME_DUPLICATE]:"module name duplicate!",[y.CC_MODULE_NOT_FOUND]:"module not found!",[y.CC_DISPATCH_STRING_INVALID]:"when type param is string, it must be one of these format: (fnName)、(moduleName)/(fnName)",[y.CC_DISPATCH_PARAM_INVALID]:"dispatch param type is invalid, it must be string or object",[y.CC_MODULE_NOT_CONNECTED]:"module not been connected by ref",[y.CC_CLASS_INSTANCE_KEY_DUPLICATE]:"props.ccKey duplicate",[y.CC_STORED_KEYS_NEED_CCKEY]:"you must explicitly specify a ccKey for ccInstance when set storedKeys!",[y.CC_CLASS_KEY_DUPLICATE]:"ccClassKey duplicate!",[y.CC_REDUCER_NOT_A_FUNCTION]:"reducer must be a function!"};var m=Object.freeze({__proto__:null,MODULE_GLOBAL:"$$global",MODULE_DEFAULT:"$$default",MODULE_CC:"$$cc",MODULE_VOID:u,MODULE_CC_ROUTER:"$$CONCENT_ROUTER",CC_CLASS:l,CC_HOOK:"$$CcHook",CC_FRAGMENT:"$$CcFrag",CC_OB:"$$CcOb",CC_CUSTOMIZE:"$$CcCust",CC_PREFIX:"$$Cc",CC_DISPATCHER:"$$Dispatcher",CCSYNC_KEY:d,SIG_FN_START:10,SIG_FN_END:11,SIG_FN_QUIT:12,SIG_FN_ERR:13,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,SIG_ASYNC_COMPUTED_START:30,SIG_ASYNC_COMPUTED_END:31,SIG_ASYNC_COMPUTED_ERR:32,SIG_ASYNC_COMPUTED_BATCH_START:33,SIG_ASYNC_COMPUTED_BATCH_END:34,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_CUR_MOD:1,FOR_ANOTHER_MOD:2,DISPATCH:"dispatch",SET_STATE:"setState",SET_MODULE_STATE:"setModuleState",FORCE_UPDATE:"forceUpdate",INVOKE:"invoke",SYNC:"sync",CATE_MODULE:"module",CATE_REF:"ref",FN_CU:f,FN_WATCH:"watch",ERR:y,ERR_MESSAGE:p,NOT_MOUNT:1,MOUNTED:2,UNMOUNTED:3});const h={$$default:[]},$={$$global:{},$$default:{},$$cc:{},[u]:{}},_={},C={};var g={_computedRawValues:{$$global:{},$$default:{},$$cc:{},[u]:{}},_computedValues:$,_computedRaw:C,_computedDep:_,getRootComputedValue:()=>$,getRootComputedDep:()=>_,getRootComputedRaw:()=>C};const K={},S={},w={_watchRaw:S,_watchDep:K,getRootWatchDep:()=>K,getRootWatchRaw:()=>S};var E={asyncCuKeys:[],isStrict:!1,isDebug:!1,log:!0,alwaysRenderCaller:!0,computedCompare:!1,watchCompare:!1,watchImmediate:!1,bindCtxToMethod:!1,extractModuleChangedState:!0,extractRefChangedState:!1,objectValueCompare:!1,nonObjectValueCompare:!0};const b=Symbol("cuk"),x="function",O=`is not a ${x}`,v="is not a plain json object!",D="should be an string array or *!",M=(...e)=>E.log&&console.error(...e),N=Object.prototype.toString;function U(){}function I(e){return null!=e&&ie(e).length>0}function R(e){return!I(e)}function j(e){if(!e)return!1;const t=N.call(e);return"[object Object]"===t||"[object Module]"===t}function k(e){return Array.isArray(e)}function T(e,t=!1){const n=k(e),o=j(e);return t&&n||o}function A(e){return typeof e===x}function P(e,t){if(!e)return!1;if(!0===("[object AsyncFunction]"===N.call(e)||A(e.then)))return!0;const n=e.toString();return n.indexOf("_awaiter")>=0||n.indexOf("_regenerator")>=0||!(!t||!E.asyncCuKeys.includes(t))}function W(e,t){return"symbol"!=typeof t&&Object.prototype.hasOwnProperty.call(e,t)}function V(e){const t=e=>e||0===e?k(e)?e:null:[];let n=t(e);return n||("object"==typeof e&&(n=t(e.renderKey)),n||[e])}function L(e,t){let n="";n="string"==typeof e?e:p[e]||"",t&&(n+=t),n||(n=`undefined message for code:${e}`);const o=new Error(n);return o.code=e,o}function F(e,t,n,o,r,c,s){return{[b]:1,needCompute:n,fn:o,newState:r,oldState:c,fnCtx:s,isLazy:e,result:t}}function H(){return{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}}function z(e,t,n){return{module:e,ccClassKey:t,renderKeyClasses:n}}function B(e){return e?` --verbose-info: ${e}`:""}function q(e="green"){return`color:${e};border:1px solid ${e}`}function G(e){return`%c${e}`}const Y=e=>`------------ CC ${e} ------------`;function J(e){M(Y("WARNING")),e instanceof Error?(M(e.message),M(e.stack)):M(e)}function X(e,t="green"){E.log&&(console.log(Y("TIP")),console.log(`%c${e}`,`color:${t};border:1px solid ${t};`))}function Z(e){if(M(Y("WARNING")),M(e),E.isStrict)throw e}function Q(e,t,n){try{e[t]+=n}catch(o){e[t]=n}}function ee(e,t,n){try{e[t]-=n}catch(n){e[t]=0}}function te(e,t,n={}){let o=e[t];return o||(o=e[t]=n),o}function ne(e,t,n=[]){return te(e,t,n)}function oe(e,t){e.includes(t)||e.push(t)}function re(e,t,n){oe(ne(e,t),n)}function ce(e,t){ie(t).forEach((n=>{e[n]=t[n]}))}function se(e=52){const t=Math.random();return parseInt(t*e)}function ae(e,t=[],n,o=!1){if(k(e)){const n=[];return t.forEach((t=>{e.includes(t)&&n.push(t)})),e.length=0,void n.forEach((t=>e.push(t)))}ie(e).forEach((r=>{if(t.includes(r))return;const c=e[r];o&&c?ie(c).forEach((e=>delete c[e])):n?e[r]=n:delete e[r]}))}function ie(e){return Object.keys(e)}function ue(e){let t=null;return e&&(e.persist&&e.persist(),e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function le(e,t,n){const o=n=>{window&&(n?n[e]=t:window[e]=t)};window?o(n):setTimeout((()=>{o(n)}),3e3)}function de(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}function fe(e){let t=e;return j(e)?t={...e}:k(e)&&(t=[...e]),t}function ye(e,t,n,o){let r={},c=!1;const{extractRefChangedState:s,extractModuleChangedState:a,nonObjectValueCompare:i,objectValueCompare:u}=E;if(!n){if(!(n?a:s))return t;if(!i&&!u)return t}return t&&ie(t).forEach((s=>{const a=e[s],l=t[s];let d=!0;!0===o||("object"!==typeof l?i&&(d=a!==l):u&&(d=a!==l)),d&&(n&&(n.prevStateContainer[s]=a,n.incStateVer(s),e[s]=l),r[s]=l,c=!0)})),c?r:null}function pe(e,t){const n=[],o=[];return ie(t).forEach((r=>{const c=t[r];void 0!==c&&(o.push(r),c!==e[r]&&n.push(r))})),{changed:n,setted:o}}function me(e,t){const n=[];return e.forEach((e=>{t.includes(e)||n.push(e)})),n}function he(e={}){return"string"==typeof e?{module:e}:e?e.module?Object.assign({module:"$$default"},e):Object.assign(e,{module:"$$default"}):{module:"$$default"}}let $e="";function _e(e){$e=e}function Ce(){return $e}function ge(){return $e?window.mcc[$e]:window.cc}function Ke(){let e=null;return{commit:t=>{e||(e={}),Object.assign(e,t)},clear:()=>e=null,getFnCommittedState:()=>e}}function Se(){let e=!1;return window&&("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function we(e){return{payload:null,renderKey:[],delay:-1,module:e,fnName:""}}function Ee(e={}){const t=A(e)?e():e;if(!T(t))throw new Error(`state ${v}`);return t}function be(e,t,n,o){const r=t[o];return n===o?e[r]:be(e[r],t,n,++o)}function xe(e,t){const n=t.split(".");return be(e,n,n.length-1,0)}function Oe(e){return A(e)||k(e)||"-"===e||"*"===e}function ve(e){if(e&&!Oe(e))throw new Error("depKeys must be one of them(array,'*','-',fn)")}function De(e,t,n=!0){const o=t||{},r={fn:e},c=Oe(o)?{depKeys:o}:o;return n&&ve(c.depKeys),Object.assign(r,c)}function Me(e=1e3){return new Promise((t=>setTimeout(t,e)))}function Ne(e,t){return void 0!==e?e:t}var Ue=Object.freeze({__proto__:null,noop:U,isValueNotNull:function(e){return!(null==e)},isObjectNotNull:I,isObjectNull:R,isBool:function(e){return"boolean"==typeof e},isObject:j,isArray:k,isPJO:T,isFn:A,isAsyncFn:P,isEmptyVal:function(e){return!e&&0!==e},isKeyValid:W,extractRenderKey:V,makeError:L,makeCuPackedValue:F,makeCuDepDesc:H,makeCcClassContext:z,makeUniqueCcKey:function(e,t){return`${e}$${t}`},makeHandlerKey:function(e,t,n){return`${e}$${t}$${n}`},isModuleNameValid:function(e){return!!e&&/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},isModuleNameCcLike:function(e){return e.toLowerCase().startsWith("$$cc")},verboseInfo:B,ccClassDisplayName:function(e){return`CC(${e})`},verifyKeys:function(e,t){let n=!1,o=!1;if(!k(e))return{duplicate:n,notArray:!0,keyElementNotString:o};if(!k(t))return{duplicate:n,notArray:!0,keyElementNotString:o};const r=e.length,c=t.length;e:for(let s=0;s<r;s++){const r=e[s];if("string"!=typeof r){o=!0;break e}for(let e=0;e<c;e++){const c=t[e];if("string"!=typeof c){o=!0;break e}if(c===r){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:o}},color:q,styleStr:G,justWarning:J,justTip:X,strictWarning:Z,safeAdd:Q,safeMinus:ee,safeGet:te,safeGetArray:ne,noDupPush:oe,safeGetThenNoDupPush:re,safeAssignObjectValue:ce,safeAssignToMap:function(e,t,n){let o=e[t];o||(o=e[t]={}),ce(o,n)},computeFeature:function(e,t){return`${e}/${ie(t).sort().join("|")}`},randomNumber:se,clearObject:ae,okeys:ie,excludeArrStringItem:function(e,t){const n=e.indexOf(t);if(n>-1){const t=e.slice();return t.splice(n,1),t}return e},convertToStandardEvent:ue,bindToWindow:le,shallowDiffers:de,shallowCopy:fe,extractChangedState:ye,differStateKeys:pe,removeArrElements:me,getRegisterOptions:he,setCcNamespace:_e,getCcNamespace:Ce,getWinCc:ge,makeCommitHandler:Ke,isOnlineEditor:Se,makeCallInfo:we,evalState:Ee,getValueByKeyPath:xe,isDepKeysValid:Oe,checkDepKeys:ve,makeFnDesc:De,isSymbol:function(e){return"symbol"==typeof e||function(e){return"object"==typeof e&&null!==e}(e)&&"[object Symbol]"===Object.prototype.toString.call(e)},delay:Me,getErrStackKeywordLoc:function(e,t,n=0){const o=e.stack.split("\n"),r=o.length;let c="";for(let e=0;e<r;e++)if(o[e].includes(t)){c=o[e+n];break}return c},getVal:Ne});const Ie={act:null,errorHandler:null,warningHandler:null,tryHandleError:(e,t)=>Ie.errorHandler?Ie.errorHandler(e):((e,t=!1)=>{if(console.error("found uncaught err, suggest config an errorHandler in run options"),console.error(e),!t)throw e})(e,t),tryHandleWarning:e=>{J(e),Ie.warningHandler&&Ie.warningHandler(e)}},Re={},je={};function ke(e,t,n){try{e[t][n]=1}catch(o){const r={};r[n]=1,e[t]=r}}function Te(e,t){return`${e}/${t}`}function Ae(e,t,n){ke(Re,Te(e,t),n)}function Pe(e,t){ke(Re,e,t)}function We(e,t,n){Ve(Te(e,t),n)}function Ve(e,t){try{delete Re[e][t]}catch(e){}}function Le(e,t){ke(je,e,t)}function Fe(e,t){try{delete je[e][t]}catch(e){}}var He=Object.freeze({__proto__:null,waKey2uKeyMap:Re,waKey2staticUKeyMap:je,makeWaKey:Te,mapIns:Ae,mapInsM:Pe,delIns:We,delInsM:Ve,mapStaticIns:function(e,t,n){ke(je,Te(e,t),n)},mapStaticInsM:Le,delStaticInsM:Fe}),ze={$$default:0,$$global:0},Be={_lifecycle:{$$default:{},$$global:{}},_mountedOnce:{},_willUnmountOnce:{}};const qe={};let Ge={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function Ye(e,t,n){const{fn:o,depKeys:r,sort:c}=t[e];return{retKey:e,fn:o,depKeys:r,isLazy:n,sort:c}}const Je=(e,t)=>e.sort-t.sort;function Xe(e,t,n,o,r,c,s,a){const i=o[r],u=[];if(R(i))return{pickedFns:u,setted:[],changed:[],retKey2stateKeys:{}};const{retKey2fn:l,retKey2lazy:d,stateKey2retKeys:f,retKey2stateKeys:y,fnCount:p}=i;if(e){const e=ie(l),t=ie(s),o=t;return"computed"===n?{pickedFns:e.map((e=>Ye(e,l,d[e]))).sort(Je),setted:t,changed:o,retKey2stateKeys:y}:(e.forEach((e=>{const{fn:t,immediate:n,depKeys:o,sort:r}=l[e];n&&u.push({retKey:e,fn:t,depKeys:o,sort:r})})),u.sort(Je),{pickedFns:u,setted:t,changed:o,retKey2stateKeys:y})}const{setted:m,changed:h}=pe(c,s);if(0===m.length)return{pickedFns:u,setted:[],changed:[],retKey2stateKeys:{}};const $=`${m.join(",")}|${h.join(",")}|${r}`,_=Ge[t][n],C=a?te(_,a):_,g=C[$];return g?{pickedFns:g.map((e=>Ye(e,l,d[e]))),setted:m,changed:h,retKey2stateKeys:y}:(function(e,t,n,o,r,c,s){if(0===t.length)return;const a=r["*"];if(a){const t=n.length>0;a.forEach((n=>{const{fn:r,compare:s,depKeys:a,sort:i}=o[n],u={retKey:n,fn:r,depKeys:a,isLazy:c[n],sort:i};s?t&&e.push(u):e.push(u)}))}if(e.length<s){const a={},i=t.length;for(let u=0;u<i;u++){const i=t[u],l=r[i];if(l&&(l.forEach((t=>{if(!a[t]){const{fn:r,compare:s,depKeys:u,sort:l}=o[t];let d;const f=n.includes(i);d=!!f||(!s||f),d&&(a[t]=!0,e.push({retKey:t,fn:r,depKeys:u,isLazy:c[t],sort:l}))}})),e.length===s))break}}e.sort(Je)}(u,m,h,l,f,d,p),C[$]=u.map((e=>e.retKey)),{pickedFns:u,setted:m,changed:h,retKey2stateKeys:y})}function Ze(e,t,n){const o=t[n];return void 0!==o&&(e[n]=o,!0)}function Qe(e,t=[],n=!1,o=!1){let r={},c=[],s=!1;if(!T(e))return{partialState:n?null:r,isStateEmpty:!0,ignoredStateKeys:c,missKeyInState:s};let a=!0;const i=ie(e),u=i.length,l=t.length;return u>=l?(s=u>l,t.forEach((t=>{Ze(r,e,t)&&(a=!1)})),o&&(c=me(i,t))):i.forEach((n=>{t.includes(n)?Ze(r,e,n)&&(a=!1):(s=!0,o&&c.push(n))})),a&&n&&(r=null),{partialState:r,isStateEmpty:a,ignoredStateKeys:c,missKeyInState:s}}function et(e,t){return new Proxy(e,{get:function(e,n){return W(e,n)&&!t.includes(n)&&t.push(n),e[n]},set:function(){return!0}})}const tt=[10,11,12,13,14,15,30,31,32,33,34],nt={};function ot(e,t){nt[e].forEach((n=>{try{n({sig:e,payload:t})}catch(e){Ie.tryHandleError(e,!0)}}))}function rt(e,t){!function(e,t,n){function o(t,n){const o=e[t];n?o.push(n):console.warn(`invalid sig[${t}]`)}Array.isArray(t)?t.forEach((e=>{o(e,n)})):o(t,n)}(nt,e,t)}tt.forEach((e=>nt[e]=[]));const{waKey2uKeyMap:ct,waKey2staticUKeyMap:st}=He;function at(e){if(e&&2===e.__$$ms){e.ctx.__$$ccForceUpdate()}}function it(e,t,n,o){if(!h[t].includes(n))return;const r=e.ctx;if(!0===r.__$$inBM||"1"===r.__$$renderStatus){const e=r.ccUniqueKey,c=Te(t,n);if(!0===r.__$$inBM)return void(r.__$$staticWaKeys[c]=1);if(o){if("-"!==r.watchedKeys)return;const{__$$curWaKeys:t,__$$compareWaKeys:o,__$$nextCompareWaKeys:s}=r;Pe(c,e),t[n]=1,o[n]=1,s[n]||(s[n]=2,r.__$$nextCompareWaKeyCount++)}else{if("-"!==r.connect[t])return;const{__$$curConnWaKeys:o,__$$compareConnWaKeys:s,__$$nextCompareConnWaKeys:a,__$$nextCompareConnWaKeyCount:i}=r;Pe(c,e),o[t][n]=1,s[t][n]=1;const u=a[t];u[n]||(u[n]=2,i[t]++)}}}const ut=Object.prototype.hasOwnProperty,{_computedRawValues:lt,_computedValues:dt,_computedRaw:ft,_computedDep:yt}=g;function pt(e,t,n,o,r){((e.retKey2stateKeys||{})[o]||[]).forEach((e=>{it(t,n,e,r)}))}function mt(e,t,n,o,r,c,s){let a,i,u;return"module"===t?(a=lt[o],i=dt[o],u=ft[o]):(a=r.refComputedRawValues,i=r.refComputedValues,u=r.computedRetKeyFns),new Proxy(a,{get:function(r,l){const d=`${t} ${n} retKey[${e}]`;return ut.call(a,l)?(P(u[l],`${o}/${l}`)&&(s.hasAsyncCuRefer=!0),c.push(l)):J(`${d} get cuVal invalid retKey[${l}]`),i[l]},set:function(){return!0}})}function ht(e,t,n=!0,o=!1){const r=e.ctx,c=dt[t],s=o?r.refComputedRawValues:lt[t];if(!s)return{};return new Proxy(s,{get:function(a,i){if(ut.call(s,i))if(o){const t=e.ctx.computedDep;ie(t).forEach((o=>{pt(t[o],e,o,i,n)}))}else pt(yt[t],e,t,i,n);return(o?r.refComputedValues:c)[i]},set:function(e,t,n){return e[t]=n,!0}})}const $t=(e,t)=>J(`${e} call commit or commitCu as it is ${t}`);let _t={},Ct={};function gt(e,t,n){return"module"==e?te(_t,t):te(Ct,n)}function Kt(e,t,n,o){return ne(gt(t,n,o),e)}function St(e,t){return"ref"===t?e.computedDep:g._computedDep}function wt(e,t,n,o,r,c,s=!0){if(0===c.length)return;let a,i;if("ref"===t){const t=e.computedDep,r=n===f?t:e.watchDep;i=te(t,o),a=te(r,o)}else{const e=g._computedDep,t=n===f?e:w._watchDep;i=te(e,o),a=te(t,o)}const u=te(a,"stateKey2retKeys"),l=te(a,"retKey2stateKeys"),d=e=>{const t=ne(l,r);e.forEach((e=>{const n=ne(u,e);Array.isArray(n)&&!n.includes(r)&&n.push(r),t.includes(e)||t.push(e)}))};s?d(c):c.forEach((e=>{const t=te(i,"retKey2stateKeys")[e]||[];d(t)}))}function Et(e,t,n){if("ref"===t)return e.computedRetKeyFns;return(g._computedDep[n]||{}).retKey2fn||{}}function bt(e,t,n,o,r,c){const s=gt(e,r,c),a=Et(n,r,c),i=ne(s,e);t.forEach((e=>{if(a[e].isStatic)i.push(e);else{ne(s,e).forEach((e=>oe(i,e)))}}))}const xt=Symbol("sf");function Ot(e={},t,n,o,r,c,s,a,i,u,l,d,y,p=!0){const m=e.ctx,$=m?m.ccUniqueKey:"",_={},C={sourceType:d,ref:e,module:t,fns:[],fnAsync:[],fnRetKeys:[],cuRetContainer:y};let g=0,K=c,S=!1;for(;K;){g++;const c=1===g&&u,{pickedFns:w,setted:E,changed:b,retKey2stateKeys:x}=r(K,c);if(C.retKey2stateKeys=x,!w.length)break;const{commit:O,getFnCommittedState:v}=Ke(),{commit:D,getFnCommittedState:M,clear:N}=Ke();if(w.forEach((({retKey:e,fn:r,depKeys:p,isLazy:h})=>{const _=`${d} ${l} retKey[${e}]`,g=`${_} can't`;let S="",w=!1;const x={retKey:e,callInfo:i,isFirstCall:u,commit:O,commitCu:D,setted:E,changed:b,cuVal:y,committedState:K,deltaCommittedState:a,stateModule:t,refModule:n,oldState:o,refCtx:m,setInitialVal:()=>{c&&J(`non async ${_} call setInitialVal is unnecessary`)}},v=c&&"-"===p,I=[],R=[],j={hasAsyncCuRefer:!1};if(v&&(x.cuVal=mt(e,d,l,t,m,I,j)),l===f){const n=P(r,`${t}/${e}`);if(h||n){const e=h?"lazy":"async computed";x.commit=()=>$t(g,e),x.commitCu=x.commit,n&&(x.setInitialVal=e=>{if(S=e,w=!0,c)throw xt})}if(h)y[e]=F(h,null,!0,r,s,o,x);else{let a,i=s,u=o;if(v&&(u=et(s,R),i=u),n?c&&r(i,u,x).catch((e=>{if(e!==xt)throw e})):a=r(i,u,x),n||j.hasAsyncCuRefer){if(c){if(!w)throw new Error(`async ${_} forget call setInitialVal`);a=S}else a=y[e];x.setInitialVal=U,x.commit=()=>$t(g,"async computed or it refers async computed ret"),x.commitCu=x.commit,C.fns.push((()=>r(i,u,x))),C.fnAsync.push(n),C.fnRetKeys.push(e)}y[e]=F(!1,a),v&&(wt(m,d,f,t,e,R),wt(m,d,f,t,e,I,!1),bt(e,I,m,0,d,t))}}else{let n=s,c=o;v&&(n=et(s,R),c=n),r(n,c,x),v&&(wt(m,d,"watch",t,e,R),wt(m,d,"watch",t,e,I,!1))}v&&"ref"===d&&R.forEach((e=>m.__$$staticWaKeys[Te(t,e)]=1));const k=M();if(k){const n=Et(m,d,t);ie(k).forEach((o=>{const r=n[o];if(r)if(r.isStatic){Kt(o,d,t,$).includes(o)?J(`commitCu:${g} change [${o}], [${e}] referred [${o}]`):y[o]=F(!1,k[o])}else J(`commitCu:${g} change [${o}], it must have zero dep keys`);else J(`commitCu:${g} commit [${o}], it is not defined`)})),N()}})),K=v(),K){const r=(e,t=!1)=>{t?Object.assign(K,e):K=e,K&&(Object.assign(_,K),p?(Object.assign(s,K),Object.assign(a,K)):K=null,S=!0)},c=e=>{const n="ref"===d?m.privStateKeys:h[t],{partialState:o,ignoredStateKeys:r}=Qe(e,n,!0);if(r.length){const e=`they are not ${"ref"===d?"private":"module"}, fn is ${d} ${l}`;J(`these state keys[${r.join(",")}] are invalid, ${e}`)}return o},u=c(K);if(u&&(r(u),"watch"===l)){const l=St(m,d),p=(e,n)=>Xe(n,d,f,l,t,o,e,$),{hasDelta:h,newCommittedState:_}=Ot(e,t,n,o,p,u,s,a,i,!1,f,d,y);if(h){r(c(_),!0)}}}g>2&&(J("fnCtx.commit may goes endless loop, please check your code"),J(i),K=null)}return async function(e){try{const t=e.fns,n=t.length;if(0===n)return;await Me();const{sourceType:o,ref:r,module:c,fnAsync:s,fnRetKeys:a,cuRetContainer:i,retKey2stateKeys:u}=e,l="ref"!==o;let d=[],f="";try{ot(33,{module:c});for(let e=0;e<n;e++){const n=t[e],o=s[e],r=a[e];let y;f=r,ot(30,{module:c,retKey:r}),y=o?await n():n(),i[r]=F(!1,y),ot(31,{module:c,retKey:r}),l&&(d=d.concat(u[r]))}ot(34,{module:c})}catch(e){if(l){const t={module:c,err:e,retKey:f};ot(32,t),ot(34,t)}Ie.tryHandleError(e)}if(l){d=Array.from(new Set(d));const e={};d.forEach((t=>{const n=`${c}/${t}`;Object.assign(e,ct[n],st[n])})),ie(e).forEach((e=>{at(qe[e])}))}else at(r)}catch(e){Ie.tryHandleError(e)}}(C),{hasDelta:S,newCommittedState:_}}const{_computedValues:vt}=g,{okeys:Dt,extractChangedState:Mt}=Ue,Nt=()=>Ft.permanentDispatcher,Ut=(e,t,n={})=>{const{ref:o=null,callInfo:r={},noSave:c=!1,force:s}=n,a=Rt(e),i=vt[e],u=g.getRootComputedDep(),l=w.getRootWatchDep(),d=o||Nt(),y=d.module,p=Object.assign({},a,t),m=Object.assign({},t),{hasDelta:h}=Ot(d,e,y,a,((t,n)=>Xe(n,"module","computed",u,e,a,t)),m,p,m,r,!1,f,"module",i),{hasDelta:$}=Ot(d,e,y,a,((t,n)=>Xe(n,"module","watch",l,e,a,t)),m,p,m,r,!1,"watch","module",i);return c||It(e,m,null,s),{hasDelta:h||$,deltaCommittedState:m}},It=(e,t,n=!1,o)=>{let r=t;if(n){const{partialState:n}=Qe(t,h[e],!0);r=n}const c=Rt(e),s=jt(e);return kt(e),Mt(c,r,{prevStateContainer:s,incStateVer:t=>Tt(e,t)},o)},Rt=e=>Pt[e],jt=e=>Wt[e],kt=function(e,t=1){try{Lt[e]+=t}catch(n){Lt[e]=t}};const Tt=function(e,t){Vt[e][t]++},At=()=>({$$cc:{},[u]:{},$$global:{},$$default:{}}),Pt=At(),Wt=At(),Vt={};let Lt={};const Ft={getDispatcher:Nt,isHotReloadMode:function(){return!!Ft.isHot||window&&(window.webpackHotUpdate||Se())},runtimeVar:E,runtimeHandler:Ie,isHot:!1,reComputed:!0,isStartup:!1,moduleName2stateFn:{},moduleName2stateKeys:h,moduleName2isConfigured:{},ccClassKey2Context:{},globalStateKeys:[],store:{appendState:function(e,t){if(!h[e])throw new Error(`module[${e}] not configured`);const n=ne(h,e);Dt(t).forEach((e=>{n.includes(e)||n.push(e)})),Ft.store.setState(e,t)},_state:Pt,_prevState:Wt,_stateVer:Vt,getState:function(e){return e?Rt(e):Pt},getPrevState:function(e){return e?jt(e):Wt},getStateVer:function(e){return e?Vt[e]:Vt},getModuleVer:function(e){return e?Lt[e]:Lt},incModuleVer:kt,replaceMV:function(e){Lt=e},setState:function(e,t,n){return Ut(e,t,n)},setGlobalState:function(e){return Ut("$$global",e)},saveSharedState:It,getGlobalState:function(){return Pt.$$global}},reducer:{_reducer:{$$global:{},$$cc:{}},_caller:{},_fnName2fullFnNames:{},_module2fnNames:{},_module2Ghosts:{}},computed:g,watch:w,refStore:{_state:{},setState:function(e,t){const n=Ft.refStore._state,o=n[e],r=Object.assign({},o,t);n[e]=r}},lifecycle:Be,ccUKey2ref:qe,event2handlers:{},ccUKey2handlerKeys:{},handlerKey2handler:{},waKey2uKeyMap:Re,waKey2staticUKeyMap:je,module2insCount:ze,refs:qe,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.14.12",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"glory"},featureStr2classKey:{},userClassKey2featureStr:{},middlewares:[],plugins:[],pluginNameMap:{},permanentDispatcher:null,localStorage:null,recoverRefState:U,getModuleStateKeys:e=>Ft.moduleName2stateKeys[e]};Ft.recoverRefState=function(){const e=Ft.localStorage;if(!e)return;const t=e.length,n=Ft.refStore._state;try{for(let o=0;o<t;o++){const t=e.key(o);if(!t.startsWith("CCSS_"))return;n[t.substr(5)]=JSON.parse(e.getItem(t))}}catch(e){console.error(e)}};var Ht=[];const{isModuleNameCcLike:zt,isModuleNameValid:Bt,verboseInfo:qt,makeError:Gt,okeys:Yt}=Ue,{store:Jt,getModuleStateKeys:Xt}=Ft;function Zt(e){if(!Bt(e))throw new Error(`module[${e}] writing is invalid!`);if(zt(e))throw new Error("'$$cc' is a built-in module name")}function Qt(e,t=!0,n=""){const o=n||`module[${e}]`,r=Jt._state;if(Zt(e),"$$global"!==e)if(t){if(I(r[e]))throw Gt(y.CC_MODULE_NAME_DUPLICATE,qt(o))}else if(!r[e])throw Gt(y.CC_MODULE_NOT_FOUND,qt(o))}function en(e,t,n=!0,o=""){const r=n?"":"not ",c=Xt(e);t.forEach((e=>{const t=c.includes(e),s=()=>{throw new Error(((e,t)=>`${o}key[${e}] must ${t}be a module state key`)(e,r))};n?!t&&s():t&&s()}))}const tn={};const nn={};function on(e){nn[e]={}}const{safeAssignToMap:rn,okeys:cn,safeGet:sn}=Ue;function an(e,t,n=!0){const o=e===u?{}:t;try{!function(e,t,n){if(Qt(e,n),!T(t))throw new Error(`module[${e}]'s state ${v}`)}(e,o,n)}catch(t){((e,t,n)=>{if(e.code!==y.CC_MODULE_NAME_DUPLICATE||!Ft.isHotReloadMode())throw e;{const o=function(e){e||(e="");const t=e.split("\n"),n=t.length;let o="";for(let e=0;e<n;e++)if(t[e].includes(".checkModuleNameAndState")){const n=t[e+3].split(":"),r=n.length-1,c=[];n.forEach(((e,t)=>{t!==r&&c.push(e)})),o=c.join(":");break}return o}(e.stack),r=`${n}|--link--|${t}`,c=tn[r];if(c){if(o!==c)throw e}else tn[r]=o}})(t,e,"state")}on(e);const r=Ft.store,c=r.getState(),s=r.getStateVer(),a=r.getModuleVer(),i=r.getPrevState();rn(c,e,o),rn(i,e,o),s[e]=cn(o).reduce(((e,t)=>(e[t]=1,e)),{}),a[e]=1;const l=Ft.computed;sn(l._computedDep,e,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),sn(l._computedValues,e),sn(l._computedRawValues,e);const d=cn(o);if(Ft.moduleName2stateKeys[e]=d,"$$global"===e){const e=Ft.globalStateKeys;d.forEach((t=>{e.includes(t)||e.push(t)}))}Ft.module2insCount[e]=0}function un(e,t=!1){const{ccUKey2ref:n}=Ft;let o=null;if(e){Qt(e,!1);const t=ie(n),r=t.length;for(let c=0;c<r;c++){const r=n[t[c]];if(r.ctx.module===e){o=r;break}}}if(!o){if(t)throw new Error(`[[pickOneRef]]: no ref found for module[${e}]!,if this message doesn't matter, you can ignore it`);o=Ft.permanentDispatcher}return o}const{makeUniqueCcKey:ln,justWarning:dn}=Ue,fn=()=>Promise.resolve();function yn(e,t,n="",o,{ccClassKey:r,ccKey:c,throwError:s,refModule:a=""}={}){if(void 0===e&&void 0===t)throw new Error("params type error");let i,u="",l="";try{if(r&&c){const e=ln(r,c),t=Ft.refs[e];if(!t)return dn(`no ref found for ccUniqueKey:${e}!`),fn();i=t.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){const[t,n]=e.split("/");u=t,l=n}else l=e;let t;u&&"*"!==u?t=un(u):a&&(t=un(a)),t||(t=un()),i=t.ctx.dispatch}if("*"===u){const e=Ft.reducer._fnName2fullFnNames[l];if(!e)return;const r=[];return e.forEach((e=>{r.push(i(e,t,n,o))})),Promise.all(r)}return i(e,t,n,o)}catch(e){if(s)throw e;return dn(e.message),fn()}}function pn(e,t,n,o,r){return yn(e,t,n,o,r)}function mn(e,t={},n=[]){if(!T(t))throw new Error(`module[${e}] reducer ${v}`);const{_reducer:o,_caller:r,_fnName2fullFnNames:c,_module2fnNames:s,_module2Ghosts:a}=Ft.reducer,i=Object.assign({},t);o[e]=i;const u=te(r,e),l=ne(s,e);te(a,e,n.slice()),n.forEach((e=>{if(!t[e])throw new Error(`ghost[${e}] not exist`)})),i.setState||(i.setState=e=>e);ie(i).forEach((t=>{oe(l,t);const n=`${e}/${t}`;oe(ne(c,t),n),u[t]=(e,t,o)=>pn(n,e,t,o);const o=i[t];if(!A(o))throw new Error(`module[${e}] reducer[${t}] ${O}`);{let n=o;o.__fnName&&(n=(e,t,n)=>o(e,t,n),i[t]=n),n.__fnName=t,n.__stateModule=e,n.__ctName=o.__ctName||o.constructor.name,n.__isAsync=P(o)}}))}let hn=0;const $n=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function _n(e){hn++;return`${e||function(e=6){let t="";for(let n=0;n<e;n++)t+=$n[se()];return t}()}_${hn}`}const{moduleName2stateKeys:Cn,runtimeVar:gn,runtimeHandler:Kn,store:Sn}=Ft;let wn=1;function En(e,t,n,o,r){const c=t.refCtx,s=t.type;if("ref"===e&&!c.__$$inBM){const t=`${e} ${s} must been called in setup block`;return void Kn.tryHandleWarning(new Error(t))}if(!n)return;const a=typeof n;let i;if("string"===a)T(o)?i={[n]:o}:typeof o===x&&(i={[n]:De(o,r)});else if(T(n))i=n;else if(a===x&&(i=n(c),!T(i)))return void Kn.tryHandleWarning(new Error(`type of ${s} callback result must be an object`));i?function(e,t,n){const{computedCompare:o,watchCompare:r,watchImmediate:c}=gn,{tryHandleWarning:s}=Kn,a=t.type===f?o:r,i=t.module;ie(n).forEach((o=>{const r=n[o];let u=r;if(A(r)&&(u={fn:r}),T(u)&&A(u.fn)){const{fn:n,immediate:r=c,compare:l=a,lazy:d,retKeyDep:f=!0,allowSlash:y,depKeyModule:p}=u;let m=u.depKeys||"-";if(A(m)){const e=p||i,t=[];m(et(Sn.getState(e),t)),m=t.map((t=>`${e}/${t}`))}const h=u.sort||wn++,$=_n("mark");if("*"===m||"-"===m){const c="-"===m&&f,{pureKey:a,module:u}=vn(t,i,o,c,y),p=bn(e,t,$,a);if(p)return s(p);On(e,t,u,a,n,m,r,l,d,h)}else if(0===m.length){const{pureKey:c,module:a}=vn(t,i,o,!1,y),u=bn(e,t,$,c);if(u)return s(u);On(e,t,a,c,n,m,r,l,d,h)}else{const{pureKey:c,moduleOfKey:a}=vn(t,i,o,!1,y),u=a,f=bn(e,t,$,c);if(f)return s(f);const p={};m.forEach((e=>{const{isStateKey:n,pureKey:r,module:c}=vn(t,i,e,!1,y);if(u&&c!==u)throw new Error(`found slash both in retKey[${o}] and depKey[${e}], but their module is different`);const s=ne(p,c);if(!n)throw new Error(`depKey[${e}] invalid, module[${c}] doesn't include its stateKey[${r}]`);xn(t,c,r),s.push(r)})),ie(p).forEach((o=>{On(e,t,o,c,n,p[o],r,l,d,h)}))}}else"default"!==o&&s(`module[${i}] ${t.type} retKey[${o}] type error`)}))}(e,t,i):Kn.tryHandleWarning(new Error(`${e} ${s} param type error`))}function bn(e,t,n,o){if("ref"===e){const{ccUniqueKey:e,retKey2fnUid:r}=t.refCtx,c=t.type,s=`${c}_${o}`;if(r[s])return new Error(`ccUKey[${e}] retKey[${o}] duplicate in ref ${c}`);r[s]=n}}function xn(e,t,n){const o=e.refCtx;o&&(o.__$$staticWaKeys[Te(t,n)]=1)}function On(e,t,n,o,r,c,s,a,i,u){const l=te(t.dep,n,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),{retKey2fn:d,stateKey2retKeys:f,retKey2lazy:y,retKey2stateKeys:p}=l,m=Array.isArray(c)&&0===c.length;let h=u;m?h>=0&&(h=-1):u<0&&(h=0);const $={fn:r,immediate:s,compare:a,depKeys:c,sort:h,isStatic:m};d[o]?"ref"!==e&&(d[o]=$,y[o]=i):(d[o]=$,y[o]=i,l.fnCount++),"ref"===e&&(t.retKeyFns[o]=d[o]);const _=t.refCtx;if(_&&("computed"===t.type?_.hasComputedFn=!0:_.hasWatchFn=!0),"-"===c)return;const C="*"===c,g=C?["*"]:c;C&&(p[o]=Cn[n]),g.forEach((e=>{C||re(p,o,e),re(f,e,o)}))}function vn(e,t,n,o=!1,r){let c,s=t,a=n,i="";if(n.includes("/")){if(!0!==r)throw new Error(`key[${n}] can't contains /, please use (computedModule,watchModule) instead of(computed, watch) if you want to operate another module`);const[e,t]=n.split("/");e&&(i=e,s=e),a=t}const u=Cn[s];if(s===e.module)c=e.stateKeys;else{if(c=u,!c)throw L(y.CC_MODULE_NOT_FOUND,B(`module[${s}]`));if(!e.connect[s])throw L(y.CC_MODULE_NOT_CONNECTED,B(`module[${s}], retKey[${a}]`))}const l=c.includes(a);return o&&l&&function(e,t,n,o){const r=te(e.dep,t,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),{stateKey2retKeys:c,retKey2stateKeys:s}=r;re(c,n,n),re(s,n,n),o&&xn(e,t,n)}(e,s,a,u.includes(a)),{isStateKey:l,pureKey:a,module:s,moduleOfKey:i}}function Dn(e,t){const n={};return ie(e).forEach((e=>{t[e]=F(),Object.defineProperty(n,e,{get:function(){const n=t[e]||{},{needCompute:o,fn:r,newState:c,oldState:s,fnCtx:a,isLazy:i,result:u}=n;if(!i)return u;if(i&&o){const e=r(c,s,a);n.result=e,n.needCompute=!1}return n.result},set:function(n){const o=t[e];n[b]?n.isLazy?(o.isLazy=!0,o.needCompute=!0,o.newState=n.newState,o.oldState=n.oldState,o.fn=n.fn,o.fnCtx=n.fnCtx):(o.isLazy=!1,o.result=n.result):J("computed value can not been changed manually")}})})),n}const{isPJO:Mn}=Ue;function Nn(e,t={}){if(!Mn(t))throw new Error(`module[${e}] computed ${v}`);const n=Ft.computed,o=Ft.store.getState(),r=n.getRootComputedValue(),c=n.getRootComputedDep(),s=n.getRootComputedRaw(),a=n._computedRawValues[e];s[e]=t;const i=o[e];En("module",{type:f,module:e,stateKeys:ie(i),dep:c},t);const u=Ft.getDispatcher(),l=(t,n)=>Xe(n,"module",f,c,e,i,t);r[e]=Dn(t,a);const d=r[e];try{Ot(u,e,u&&u.ctx.module,i,l,i,i,i,we(e),!0,f,"module",d)}catch(e){Ft.runtimeHandler.tryHandleError(e)}}const{isPJO:Un,safeGet:In,okeys:Rn}=Ue;function jn(e,t={},n=!1){if(!Un(t))throw new Error(`module[${e}] watch ${v}`);const o=Ft.watch.getRootWatchDep(),r=Ft.watch.getRootWatchRaw(),c=Ft.computed.getRootComputedValue();if(n){const n=r[e];n?Object.assign(n,t):r[e]=t}else r[e]=t;const s=(0,Ft.store.getState)(e);En("module",{module:e,stateKeys:Rn(s),dep:o},t);const a=Ft.getDispatcher(),i=In(c,e);Ot(a,e,a&&a.ctx.module,s,((t,n)=>Xe(n,"module","watch",o,e,s,t)),s,s,s,we(e),!0,"watch","module",i)}let kn=0;const Tn={},An={},Pn={},Wn={};function Vn(){return kn++,kn}function Ln(e,t,n,o){if(n){let r=o[e];r||(r={},o[e]=r);const c=r[t];c?Object.assign(c,n):r[t]=n}}function Fn(e,t,n){Ln(e,t,n,Tn)}function Hn(e,t,n,o){return e||Fn(t,n,o),function(e){const t=function(e){return Tn[e]}(e),n=[];return ie(t).forEach((e=>{n.push({module:e,state:t[e]})})),n}(t)}function zn(e){delete Tn[e]}const Bn={};function qn(e,t,n,o,r,c=!1,s){const a=e.ctx;if(!a.hasWatchFn)return{hasDelta:!1,newCommittedState:{}};const i=Object.assign({},n,o),{watchDep:u,module:l,ccUniqueKey:d,refComputed:f}=a,{hasDelta:y}=Ot(e,t,l,n,((e,o)=>Xe(o,"ref","watch",u,t,n,e,d)),o,i,o,r,c,"watch","ref",f,s);return{hasDelta:y}}function Gn(e,t,n,o,r,c=!1,s){const a=e.ctx;if(!a.hasComputedFn)return{hasDelta:!1,newCommittedState:{}};const{computedDep:i,module:u,ccUniqueKey:l,refComputed:d}=a,y=Object.assign({},n,o);return Ot(e,t,u,n,((e,o)=>Xe(o,"ref",f,i,t,n,e,l)),o,y,o,r,c,f,"ref",d,s)}const{okeys:Yn,isEmptyVal:Jn}=Ue,{ccUKey2ref:Xn,waKey2uKeyMap:Zn,waKey2staticUKeyMap:Qn}=Ft;function eo(e,t,n,o){const r=Yn(t),c=function(e,t,n,o=[]){const r=n?n.join(","):"";return`${e}/${t.sort().join(",")}/${r}/${"*"===o?"*":o.sort().join(",")}`}(e,r,n,o),s=function(e,t){return nn[e][t]}(e,c);if(s)return{sharedStateKeys:r,result:s};const a={},i=[],u=[];r.forEach((t=>{const n=`${e}/${t}`;Object.assign(a,Zn[n],Qn[n])}));const l=Yn(a),d=(e,t)=>{e?i.push(t):u.push(t)},f=(e,t)=>{const{renderKey:r,ccClassKey:c,ccUniqueKey:s,props:a}=e.ctx;if(n.length){const e=n.includes(r);if("*"===o||!Jn(a.id))return void(e&&d(t,s));o.includes(c)?e&&d(t,s):d(t,s)}else d(t,s)};let y=!1;l.forEach((t=>{const n=Xn[t];if(!n)return void(y=!0);const o=n.ctx,{module:r,connect:c}=o,s=r===e,a=!!c[e];s&&f(n,!0),a&&f(n,!1)}));const p={belong:i,connect:u};return y||function(e,t,n){nn[e][t]=n}(e,c,p),{sharedStateKeys:r,result:p}}const{isPJO:to,justWarning:no,isObjectNull:oo,computeFeature:ro,okeys:co}=Ue,{FOR_CUR_MOD:so,FOR_ANOTHER_MOD:ao,FORCE_UPDATE:io,SET_STATE:uo,SIG_STATE_CHANGED:lo,RENDER_NO_OP:fo,RENDER_BY_KEY:yo,RENDER_BY_STATE:po,UNMOUNTED:mo,MOUNTED:ho}=m,{store:{setState:$o,getPrevState:_o,saveSharedState:Co},middlewares:go,ccClassKey2Context:Ko,refStore:So,getModuleStateKeys:wo,runtimeVar:Eo}=Ft;function bo(e){return Eo.alwaysRenderCaller||e}function xo(e,{module:t,skipMiddleware:n=!1,payload:o,stateChangedCb:r,force:c=!1,keys:s=[],keyPath:a="",reactCallback:i,type:u,calledBy:l=uo,fnName:d="",renderKey:f,delay:y=-1}={},p){if(!e)return;if(!to(e))return void no(`your committed state ${v}`);const m=V(f),h=f&&f.delay?f.delay:y,{module:$,ccUniqueKey:_,ccKey:C}=p.ctx,g=function(e,t){return e===t?so:ao}(t,$),K={calledBy:l,payload:o,renderKey:m,force:c,ccKey:C,module:t,fnName:d,keys:s,keyPath:a},{partialState:S,hasDelta:w,hasPrivState:E}=function(e,t,n){const o=wo(e),{partialState:r,missKeyInState:c}=Qe(t,o,!0);if(r){const{hasDelta:t,deltaCommittedState:o}=$o(e,r,n);return{partialState:o,hasDelta:t,hasPrivState:c}}return{partialState:r,hasDelta:!1,hasPrivState:c}}(t,e,{ref:p,callInfo:K,noSave:!0,force:c});w&&Object.assign(e,S);const b=!E&&!!S;Oo(p,K,m,l,e,g,b,i,bo(c),((e,s,a)=>{const f={calledBy:l,type:u,payload:o,renderKey:m,delay:h,ccKey:C,ccUniqueKey:_,committedState:s,refModule:$,module:t,fnName:d,sharedState:S||{}};let y=!1;f.modState=(e,t)=>{y=!0,f.committedState[e]=t,f.sharedState[e]=t},function(e,t,n){if(!0!==e){const e=go.length;if(e>0){let o=0;const r=()=>{if(o===e)n();else{const e=go[o];o++,A(e)?e(t,r):(no(`found one middleware ${O}`),r())}};r()}else n()}else n()}(n,f,(()=>{const n=f.sharedState,o=Co(t,n,y,c);a&&a(),e!==fo||o?ot(lo,{calledBy:l,type:u,committedState:s,sharedState:o||{},module:t,ccUniqueKey:_,renderKey:m}):b&&Oo(p,K,[],uo,n,g,!1,i,bo(c)),r&&r(),o&&function(e,t,n,o,r,c,s,a,i,u){let l=r;i>0&&(l&&Oo(n,t,[],uo,o,e,!1,s,bo(u)),l=!1);const d=()=>{!function(e,t,n,o,r,c,s,a){if(!n)return;const i=Ft.ccUKey2ref,{ccUniqueKey:u,ccClassKey:l}=t.ctx,d=Ko[l].renderKeyClasses,{sharedStateKeys:f,result:{belong:y,connect:p}}=eo(r,n,s,d),m={};y.forEach((t=>{const r=i[t];if(!r)return;let s=null,l="broadcastState";if(r.ctx.ccUniqueKey===u){if(!o)return;s=c,l=e.calledBy}Oo(r,e,[],l,n,so,!1,s,a),m[t]=1}));const h=_o(r);p.forEach((t=>{if(m[t])return;const o=i[t];if(o&&o.__$$ms===ho){const t=o.ctx,{hasDelta:c,newCommittedState:s}=Gn(o,r,h,n,e,!1,!1),{hasDelta:a,newCommittedState:i}=qn(o,r,h,n,e,!1,!1);if(c||a){const n=Object.assign(s,i),r=t.module,c=t.unProxyState;Gn(o,r,c,n,e),qn(o,r,c,n,e),Object.assign(c,n),Object.assign(t.state,n),t.__$$settedList.push({module:r,keys:co(n)})}t.__$$settedList.push({module:r,keys:f}),t.__$$ccForceUpdate()}}))}(t,n,o,l,c,s,a,u)};if(i>0){((e,t,n=1e3)=>{const o=Bn[t];o&&clearTimeout(o),Bn[t]=setTimeout((()=>{delete Bn[t],e()}),n)})(d,ro(n.ctx.ccUniqueKey,o),i)}else d()}(g,K,p,o,b,t,i,m,h,c)}))}))}function Oo(e,t,n,o,r,c,s,a,i,u){const l=()=>u&&u(fo,r),d=e.ctx,f=d.unProxyState;if(s)return l();if(e.__$$ms===mo||c!==so||o!==io&&oo(r))return l();const{module:y,storedKeys:p,ccUniqueKey:m}=d;let h=po;if(n.length&&(h=yo,n.includes(d.renderKey)))return l();if(p.length>0){const{partialState:e,isStateEmpty:t}=Qe(r,p);if(!t){if(!0===d.persistStoredKeys){const{partialState:t}=Qe(f,p),n=Object.assign({},t,e);Ft.localStorage&&Ft.localStorage.setItem(`CCSS_${m}`,JSON.stringify(n))}So.setState(m,e)}}const $=Object.assign({},r);Gn(e,y,f,$,t),qn(e,y,f,$,t);const _=()=>{let e;e=!0===i?$:ye(d.unProxyState,$),e&&(d.__$$settedList.push({module:y,keys:co(e)}),d.__$$ccSetState(e,a))};u?u(h,$,_):_()}function vo(e,t,n){n.ctx.__$$inBM?setTimeout((()=>vo(e,t,n)),0):xo(e,t,n)}function Do(e,t){try{un(t.module).ctx.changeState(e,t)}catch(e){Z(e)}}const{verboseInfo:Mo,makeError:No,justWarning:Uo,isPJO:Io,okeys:Ro}=Ue,{store:{getState:jo,setState:ko},reducer:{_reducer:To},computed:{_computedValues:Ao},runtimeHandler:Po,runtimeVar:Wo}=Ft,Vo=No,Lo=Mo;function Fo(e,t=!0){try{return Qt(e,!1,`module[${e}] is not configured in store`),!0}catch(e){return function(e,t=!0){if(t)throw e;Bo(e)}(e,t),!1}}function Ho(e,t){return(n,...o)=>n?t(n):e(...o)}function zo(e,t,n,o){let r;!0===e?(r=Vn(),function(e){Pn[e]=!0}(r),o[r]=1):(r=t||Vn(),o[r]||(o[r]=1));return{_chainId:r,_oriChainId:n||r}}function Bo(e,t){e&&(t?t(e):Ft.runtimeHandler.tryHandleError(e))}function qo(e,t,n){return function(e,t,n,o){return new Promise(((r,c)=>{const s=Object.assign(n,{__innerCb:Ho(r,c)});e(t,s,o)})).catch(Po.tryHandleError)}(Zo,e,t,n)}function Go(e,t,n){const{callerRef:o,delay:r,renderKey:c,force:s,calledBy:a,module:i,chainId:u,oriChainId:l,chainId2depth:d,isSilent:f}=t;return qo(e,{callerRef:o,context:!0,module:i,calledBy:a,fnName:e.name,delay:r,renderKey:c,force:s,chainId:u,oriChainId:l,chainId2depth:d,isSilent:f},n)}function Yo(e){return(t,n)=>{e.ctx.reactSetState(t,n)}}function Jo(e){return t=>{e.ctx.reactForceUpdate(t)}}function Xo(e,{chainId:t,oriChainId:n,isLazy:o,delay:r=-1,isSilent:c=!1,chainId2depth:s={}}={}){return(a,i,u,l)=>{let d=o,f=c,y="",p=null!=l?l:r,m=!1;if(Io(u)){const{lazy:e,silent:t,renderKey:n,delay:o,force:r}=u;void 0!==e&&(d=e),void 0!==t&&(f=t),void 0!==n&&(y=n),void 0!==o&&(p=o),m=r}else y=u;const{_chainId:h,_oriChainId:$}=zo(d,t,n,s),_=typeof a,C={callerRef:e,calledBy:"invoke",module:e.ctx.module,isSilent:f,chainId:h,oriChainId:$,chainId2depth:s,delay:p,renderKey:y,force:m},g=new Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"===_)return a.__fnName&&(a.name=a.__fnName),Go(a,C,i);if("object"===_){let e,t;if(Array.isArray(a)){const[n,o]=a;e=o,t=n}else{const{module:n,fn:o}=a;e=o,t=n}if(!A(e))throw g;return t&&(C.module=t),Go(e,C,i)}throw g}}function Zo(e,t,n){const o=t.callerRef,r=o.ctx.module,{module:c=r,context:s=!1,cb:a,__innerCb:i,type:u,calledBy:l,fnName:d="",delay:f=-1,renderKey:y,force:p=!1,chainId:m,oriChainId:h,chainId2depth:$,isSilent:_}=t;!function(e,t,n,o){let r=n;Fo(e,!1)?(e!==t&&n&&(Uo(function(e,t){return`param module[${e}] must equal current ref's module[${t}] when pass param reactCallback, or it will never been triggered! `}(e,t)),r=null),o(null,r)):o(new Error(`inputModule:${e} invalid`),null)}(c,r,a,((t,a)=>{if(t)return Bo(t,i);const C=jo(c);let g={},K=!1;if(K=m===h&&1===$[m],s){$[m]=$[m]+1;const e=Qo(o,!1,_,c,y,f,m,h,$),t=Qo(o,!1,!0,c,y,f,m,h,$),n=Qo(o,!0,_,c,y,f,m,h,$),s=Xo(o,{delay:f,chainId:m,oriChainId:h,chainId2depth:$}),a=Xo(o,{isLazy:!0,delay:f,oriChainId:h,chainId2depth:$}),i=Xo(o,{isLazy:!1,delay:f,isSilent:!0,oriChainId:h,chainId2depth:$}),K=function(e){return Wn[e]}(m)||{},S=K[c]||{};g={callInfo:{renderKey:y,delay:f,fnName:d,type:u,calledBy:l,force:p},module:c,callerModule:r,committedStateMap:K,committedState:S,invoke:s,lazyInvoke:a,silentInvoke:i,invokeLazy:a,invokeSilent:i,dispatch:e,lazyDispatch:n,silentDispatch:t,dispatchLazy:n,dispatchSilent:t,rootState:jo(),globalState:jo("$$global"),moduleState:C,moduleComputed:Ao[c]||{},setState:(t,n,o)=>e("setState",t,{silent:_,renderKey:0!==n?n||y:n,delay:0!==o?o||f:o}),refCtx:o.ctx}}!1===_&&ot(10,{isSourceCall:K,calledBy:l,module:c,chainId:m,fn:e});const S=t=>{$[m]=$[m]-1;const r=1===$[m],s=E&&E.__c2Result;!function(e,t,n){Ln(e,t,n,Wn)}(m,c,t);let h=[];!1===_&&(ot(11,{isSourceCall:K,calledBy:l,module:c,chainId:m,fn:e}),!function(e){return!0===Pn[e]}(m)?s||(h=[{module:c,state:t}]):r?function(e){return!0===An[e]}(m)||(Hn(s,m,c,t),zn(m)):Fn(m,c,t)),h.forEach((e=>{vo(e.state,{renderKey:y,module:e.module,reactCallback:a,type:u,calledBy:l,fnName:d,delay:f,payload:n,force:p},o)})),K&&(zn(m),function(e){delete Wn[e]}(m)),i&&i(null,t)},w=t=>{ot(13,{isSourceCall:K,calledBy:l,module:c,chainId:m,fn:e}),Bo(t,i)},E=e(n,C,g);if(e.__isAsync)Promise.resolve(E).then(S).catch(w);else try{if(e.__isReturnJudged)return void S(E);if(P(E))return e.__isAsync=!0,void Promise.resolve(E).then(S).catch(w);e.__isReturnJudged=!0,S(E)}catch(t){w(t)}}))}function Qo(e,t,n,o,r="",c=-1,s,a,i={}){return(u={},l,d,f)=>{let p=t,m=n,h="",$=f||c,_=!1;if(Io(d)){h=r;const{lazy:e,silent:t,renderKey:n,delay:o,force:c}=d;void 0!==e&&(p=e),void 0!==t&&(m=t),void 0!==n&&(h=n),void 0!==o&&($=o),_=c}else h=d||r;const{_chainId:C,_oriChainId:g}=zo(p,s,a,i),K=typeof u;let S,w,E=o;const b=()=>Xo(e,{chainId:C,oriChainId:g,isLazy:p,isSilent:m,chainId2depth:i})(u,l,{renderKey:h,delay:$,force:_});if("object"===K)if(Array.isArray(u)){const[e,t]=u;if(!t||!t.__fnName)return b();E=e,S=t.__fnName}else{const{module:e,fn:t,type:n,cb:o}=u;if(e&&(E=e),t&&t.__fnName)S=t.__fnName,e||(E=t.__stateModule);else{if("string"!=typeof n)return void Po.tryHandleError(new Error("dispatchDesc.type must be string"));S=n}w=o}else{if("string"!==K&&"function"!==K)return Promise.reject(Vo(y.CC_DISPATCH_PARAM_INVALID));{let e=u;if("function"===K){const t=u.__fnName;if(!t)return b();e=t,1==i[g]&&(E=u.__stateModule)}const t=e.split("").filter((e=>"/"===e)).length;if(0===t)S=e;else{if(1!==t)return Promise.reject(Vo(y.CC_DISPATCH_STRING_INVALID,Lo(e)));{const[t,n]=e.split("/");t&&(E=t),S=n}}}}if("*"===E)return yn(`*/${S}`,l,{silent:m,lazy:p,renderKey:h,force:_},$,{refModule:e.ctx.module});const x=new Promise(((t,n)=>{!function({callerRef:e,module:t,renderKey:n,isSilent:o,force:r,type:c,payload:s,cb:a,__innerCb:i,delay:u=-1,chainId:l,oriChainId:d,chainId2depth:f}={}){const y=To[t];if(!y)return i(new Error(`no reducerMap found for module:[${t}]`));const p=y[c];if(!p){const e=Ro(y);return i(new Error(`no reducer fn found for [${t}/${c}], is these fn you want:${e}`))}Zo(p,{callerRef:e,module:t,type:c,force:r,cb:a,context:!0,__innerCb:i,calledBy:"dispatch",delay:u,renderKey:n,isSilent:o,chainId:l,oriChainId:d,chainId2depth:f},s)}({callerRef:e,module:E,type:S,payload:l,cb:w,__innerCb:Ho(t,n),delay:$,renderKey:h,isSilent:m,force:_,chainId:C,oriChainId:g,chainId2depth:i})})).catch((e=>{Wo.isStrict?Po.tryHandleError(e):Uo(e)}));return x.__c2Result=!0,x}}function er(e){return(t,...n)=>yn("string"!=typeof t||t.includes("/")?t:`${e}/${t}`,...n)}function tr(e,t){return n=>{const o=()=>t&&t(er(e),jo(e));try{if(!n)return void o();!function(e,t,n){Do(t,{module:e,stateChangedCb:n})}(e,n,o)}catch(t){const r=jo(e);if(!r)return Uo(`invalid module ${e}`);const c=Ro(r),{partialState:s,isStateEmpty:a,ignoredStateKeys:i}=Qe(n,c,!1,!0);a||ko(e,s),i.length>0&&Uo(`invalid keys:${i.join(",")}, their value is undefined or they are not declared in module${e}`),X(`no ccInstance found for module[${e}] currently, cc will just store it, lately ccInstance will pick this state to render`),o()}}}const nr=e=>(t,n)=>{const o=e.ctx,r=Object.assign({},o.unProxyState,t);o.unProxyState=r;const c=()=>n&&n(r);o.state=Object.assign(o.state,t);const s=Po.act,a=()=>{"$$CcHook"===o.type?(o.__boundSetState(r),setTimeout(c,0)):o.__boundSetState(t,c)};s?s(a):a()},or=e=>t=>{const n=e.ctx,o=Object.assign({},n.unProxyState,n.__$$mstate),r=()=>t&&t(o);"$$CcHook"===n.type?(n.__boundSetState(o),r()):n.__boundForceUpdate(r)},rr=Ft.store.getState;function cr(e,t={}){const{initState:n,initStateDone:o,loaded:r,willUnmount:c,mounted:s}=t,a={};A(c)&&(a.willUnmount=c),A(s)&&(a.mounted=s),Ft.lifecycle._lifecycle[e]=a;const i=rr(e),u=er(e);A(r)&&r(u,i),A(n)?Promise.resolve().then((()=>n(i))).then((t=>{tr(e,o)(t)})).catch(Ft.runtimeHandler.tryHandleError):A(o)&&o(u,i)}function sr(e){const t=Object.assign({},e.lifecycle);return t.initState||(t.initState=e.init),t.initStateDone||(t.initStateDone=e.initPost),t}const{isPJO:ar,evalState:ir,okeys:ur,isFn:lr}=Ue;function dr(e,t={}){const n=(e,t)=>{if(!Ft.isStartup)return void Ht.push({module:e,config:t});if(!ar(t))throw new Error(`param config ${v}`);if("$$global"===e)throw new Error("configuring global module is not allowed");const{state:n,reducer:o,computed:r,watch:c,ghosts:s=[]}=t,a=ir(n);lr(n)&&(Ft.moduleName2stateFn[e]=n),an(e,a,!0),mn(e,o,s),Nn(e,r),jn(e,c),cr(e,sr(t)),Ft.moduleName2isConfigured[e]=!0,ot(14,e)};ar(e)?ur(e).forEach((t=>n(t,e[t]))):n(e,t)}function fr(e,t){const n={};return e&&ie(e).forEach((o=>{const r=e[o],c=(...e)=>r(...e);c.__fnName=o,c.__stateModule=t,n[o]=c})),n}const{event2handlers:yr,handlerKey2handler:pr,ccUKey2handlerKeys:mr,ccUKey2ref:hr}=Ft,{makeHandlerKey:$r,safeGetArray:_r,justWarning:Cr}=Ue;function gr(e,t,n,o,r){const c=null==r?null:r,s=yr[e];if(s){let e=s;return o?e=s.filter((e=>e.ccUniqueKey===o)):n?e=s.filter((e=>e.ccClassKey===n)):t&&(e=s.filter((e=>e.module===t))),void 0!==c&&(e=e.filter((e=>e.identity===c))),e}return[]}function Kr(e){const t={},n=[];e.forEach((e=>{const{handlerKey:o,ccUniqueKey:r,event:c}=e;delete pr[o],t[r]=1,n.includes(c)||n.push(c)})),n.forEach((e=>{const n=yr[e];n&&(n.forEach(((e,o)=>{const{ccUniqueKey:r}=e;1===t[r]&&(n[o]=null,delete mr[r])})),yr[e]=n.filter((e=>null!==e)))}))}function Sr(e){let t;if(e&&"object"==typeof e){let n;if(Array.isArray(e)){const[t,o]=e;n={name:t,identity:o}}else n=Object.assign({},e);n.identity||(n.identity=null),t=n}else t={name:e,identity:null};return t}const{store:{getModuleVer:wr}}=Ft;function Er(e,t,n,o){return new Proxy(t,{get:function(r,c){if(o){const o=wr(n),r=e.ctx;o!==r.__$$prevModuleVer&&(r.__$$prevModuleVer=o,Object.assign(t,r.__$$mstate))}return it(e,n,c,o),r[c]},set:function(e,t,n){return e[t]=n,!0}})}const{makeUniqueCcKey:br}=Ue;function xr(e){return e?e.props||e:{}}const{store:{getState:Or}}=Ft;var vr=(e,t,n)=>{const{module:o,state:r}=n;let c=!1,s="",a="",i="",u=null,l=-1,f=!1;const y=e[d],p=e.type;let m=!1;if(void 0!==y){let d,h,$;if(s=y,l=e.delay,a=e.rkey,c="int"===p,f="bool"===p,s.includes("/")){const[e,t]=s.split("/");d=t,h=s,$=e}else d=s,h=`${o}/${d}`,$=o;const _=Or($),C=$!==o?_:r;i="bool"===p?!xe(C,d):function(e){const t=ue(e);return t?t.currentTarget.value:e}(t);const g=e.val;if(void 0===g);else if(A(g)){const e=g(i,d,{event:t,module:$,moduleState:_,fullKeyPath:h,state:r,refCtx:n});if(null!=e)if("as"===p)i=e;else{const t=typeof e;"boolean"===t?m=!e:"object"===t?(m=!0,u=e):J(`syncKey[${y}] cb result type error.`)}else"as"===p&&(m=!0)}else i=g}else{const e=ue(t);if(!e)return null;{const t=e.currentTarget;i=t.value;const n=t.dataset;if(c="int"===p||void 0!==n.ccint,s=n.ccsync,!s)return null;a=n.ccrkey;const o=n.ccdelay;if(o)try{l=parseInt(o)}catch(e){}}}return{currentTarget:{value:i,extraState:u,noAutoExtract:m,dataset:{ccsync:s,ccint:c,ccdelay:l,ccrkey:a}},isToggleBool:f}};function Dr(e,t,n,o,r,c=!1){const s=t[o];let a=e[s];if(n===o)!0===c?"boolean"!=typeof a?J(`key[${s}]'s value type is not boolean`):e[s]=!a:e[s]=r;else{let i=fe(a);e[s]=i,Dr(i,t,n,++o,r,c)}}var Mr=(e,t,n,o,r,c)=>{let s=t;!0===n&&(s=parseInt(t),Number.isNaN(s)&&(J(`${t} can not convert to int but you set ccint as true!！`),s=t));let a=c,i=[];if(e.includes("/")){const[t,n]=e.split("/");a=t,i=n.includes(".")?n.split("."):[n]}else i=e.includes(".")?e.split("."):[e];const u=i.join(".");if(1===i.length){const e=i[0];return!0===r?{module:a,keys:i,keyPath:u,state:{[e]:!o[e]}}:{module:a,keys:i,keyPath:u,state:{[e]:s}}}{const[e,...t]=i,n=fe(o[e]);return Dr(n,t,t.length-1,0,s,r),{module:a,keys:i,keyPath:u,state:{[e]:n}}}};const{store:{getState:Nr}}=Ft;function Ur(e,t,n){const o=t.ctx,r=vr(e,n,o);if(!r)return;const{ccKey:c,ccUniqueKey:s,module:a}=o,i=r.currentTarget,{dataset:u,value:l,extraState:d,noAutoExtract:f}=i;n&&n.stopPropagation&&n.stopPropagation();const{ccint:y,ccdelay:p,ccrkey:m}=u;let h=u.ccsync;h.startsWith("/")&&(h=`${a}${h}`);const $={calledBy:"sync",ccKey:c,ccUniqueKey:s,module:a,renderKey:m,delay:p},_=e=>Mr(h,l,y,e,r.isToggleBool,a);if(h.includes("/")){const e=h.split("/")[0];if(Qt(e,!1),$.module=e,f)return void(d&&vo(d,$,t));const n=e!==a?Nr(e):t.state,{state:o,module:r,keys:c,keyPath:s}=_(n);Object.assign($,{module:r,keys:c,keyPath:s}),vo(o,$,t)}else{if(f)return void(d&&t.setState(d,null,$));const{state:e,module:n,keys:o,keyPath:r}=_(t.state);Object.assign($,{module:n,keys:o,keyPath:r}),t.setState(e,null,$)}}const{getModuleStateKeys:Ir}=Ft,{verifyKeys:Rr,verboseInfo:jr,okeys:kr}=Ue;function Tr(e,t,n,o){const r=n||o;if(!r)return[];const c=Ir(e);return"*"===r?kr(t).filter((e=>!c.includes(e))):(function(e,t){if("*"!==t){if(!Array.isArray(t))throw new Error(`storedKeys type err, ${D}`);en(e,t,!1,"storedKeys invalid ")}}(e,r),r)}function Ar(e){const t=e||{};if(!T(t,!0))throw new Error(`param connect type error, it ${v} or string array`);const n=Array.isArray(t);let o={};if(n||"string"==typeof t){(n?t:t.split(",")).forEach((e=>{o[e]="-"}))}else o=e;return o.$$global||(o.$$global="-"),function(e){const t=e=>`param connect is invalid, module[${e}]'s value ${D}`;Yt(e).forEach((n=>{Qt(n,!1);const o=e[n];if("string"==typeof o){if("*"!==o&&"-"!==o)throw new Error(t(n))}else{if(!Array.isArray(o))throw new Error(t(n));en(n,o,!0,`connect module[${n}] invalid,`)}}))}(o),o}const{reducer:{_caller:Pr,_module2fnNames:Wr,_module2Ghosts:Vr},refStore:Lr,getModuleStateKeys:Fr,store:{getState:Hr,getModuleVer:zr}}=Ft,{noop:Br}=Ue,{okeys:qr,makeError:Gr,verboseInfo:Yr,isObject:Jr,isBool:Xr,justWarning:Zr,isObjectNull:Qr,isValueNotNull:ec,noDupPush:tc}=Ue;let nc=0;let oc=0;const rc=e=>`type of defineEffect ${e} param must be`;function cc(e,t,n){("*"===n?Fr(t):n).forEach((n=>Ae(t,n,e)))}function sc(e,t,n=0,o){return new Proxy(Pr[e]||{},{get:(r,c)=>Wr[e].includes(c)?(r,s,a)=>{const i={module:e,fnName:c,payload:r,renderKey:s,delay:a};return 0===n?t(`${e}/${c}`,r,s,a):1===n?i:2===n?c===o?Zr(`the target fn[${c}] can't be a ghost`):t(`${e}/${o}`,i,s,a):void 0}:r[c]})}function ac(e,t,n){t>3&&(e.emit=(e,...t)=>{!function(e,...t){let n,o,r,c,s=null,a=null;"string"==typeof e?n=e:(n=e.name,s=e.identity,o=e.module,r=e.ccClassKey,c=e.ccUniqueKey,a=e.canPerform),gr(n,o,r,c,s).forEach((({ccUniqueKey:e,handlerKey:n})=>{const o=hr[e];if(o&&n){if(2!==o.__$$ms)return;const e=pr[n];if(e){if(a&&!a(o))return;e.fn(...t)}}}))}(Sr(e),...t)},e.off=(e,{module:t,ccClassKey:o,ccUniqueKey:r=n}={})=>{let c=r;(t||o)&&(c="");const{name:s,identity:a}=Sr(e);!function(e,{module:t,ccClassKey:n,ccUniqueKey:o,identity:r}){Kr(gr(e,t,n,o,r))}(s,{module:t,ccClassKey:o,ccUniqueKey:c,identity:a})},e.on=(t,n)=>{e.__$$onEvents.push({inputEvent:t,handler:n})})}function ic(e,t,n,o){const r={},c=(t,n={})=>{const o=j(t)?t:{fn:t};let r={};return n&&(r=j(n)?n:{depKeys:n}),Object.assign({allowSlash:!0,depKeyModule:e},r,o)};return"string"==typeof t?r[`${e}/${t}`]=c(n,o):j(t)&&ie(t).forEach((n=>{r[`${e}/${n}`]=c(t[n])})),r}function uc(e,t,n){const o=[],r=[];if(e.effectMeta={effectItems:o,eid2effectReturnCb:{},effectPropsItems:r,eid2effectPropsReturnCb:{}},t>4){e.execute=t=>e.execute=t,e.watch=(c=e,(e,t,n)=>{const o={type:"watch",refCtx:c,stateKeys:c.stateKeys,retKeyFns:c.watchRetKeyFns,module:c.module,connect:c.connect,dep:c.watchDep};c.__$$cuOrWaCalled=!0,En("ref",o,e,t,n)}),e.computed=function(e){return(t,n,o)=>{const r={type:f,refCtx:e,stateKeys:e.stateKeys,retKeyFns:e.computedRetKeyFns,module:e.module,connect:e.connect,dep:e.computedDep};return e.__$$cuOrWaCalled=!0,En("ref",r,t,n,o),e.refComputed}}(e),e.watchModule=(t,n,o={})=>{A(n)?e.watch(ic(t,(oc+=1,`${oc}`),n,o)):e.watch(ic(t,n))},e.computedModule=(t,n,o,r)=>e.computed(ic(t,n,o,r));const t=(t,o)=>(r,c,s,a=!0)=>{if(!A(r))throw new Error(`${rc("first")} function`);let i=c,u=void 0!==s&&s,l=o?void 0===s||s:a;if(Jr(c)&&(i=c.depKeys,u=Xr(c.compare)?c.compare:s,l=Xr(c.immediate)?c.immediate:a),null!=i&&!Array.isArray(i))throw new Error(`${rc("second")} array, null, or undefined`);const d=[];!o&&i&&i.forEach((t=>{let o;if(t.includes("/")){o=t;const[n]=t.split("/");if(!e.connect[n])throw Gr(y.CC_MODULE_NOT_CONNECTED,Yr(`depKey[${t}]`))}else o=`${n}/${t}`;d.push(o),e.__$$staticWaKeys[o]=1}));const f={fn:r,isProp:o,depKeys:i,modDepKeys:d,eId:(nc+=1,Symbol(`__autoGen_${nc}__`)),compare:u,immediate:l};t.push(f)};e.effect=t(o,!1),e.effectProps=t(r,!0)}var c}function lc(e,t,n=5){const{ccKey:o="",state:r,id:c,ccOption:s={},module:a,ccClassKey:i,type:u,insType:l,tag:f="",storedKeys:p=[],persistStoredKeys:m=!1,watchedKeys:h="-",connect:$={},staticExtra:_={}}=t,C=a,g=e.ctx,K=Qr(g),S=Fr(C);let w=e.setState,E=e.forceUpdate;!K&&g.ccUniqueKey?(w=g.__boundSetState,E=g.__boundForceUpdate):"$$CcHook"!==u&&(w=e.setState.bind(e),E=e.forceUpdate.bind(e));const b={};b.persistStoredKeys=void 0===s.persistStoredKeys?m:s.persistStoredKeys,b.tag=s.tag||f;const O=function(e,t,n){const o=t||_n(n);return br(e,o)}(i,o,b.tag);if(b.renderKey=s.renderKey||c||O,b.storedKeys=Tr(C,r,s.storedKeys,p),o&&!i)throw new Error(`missing ccClassKey while init a cc ins with ccKey[${o}]`);if(b.storedKeys.length>0&&!o)throw Gr(y.CC_STORED_KEYS_NEED_CCKEY,Yr(`ccClassKey[${i}]`));const D=Hr(a),M=Lr._state[O]||{},N=Object.assign({},r,M,D);e.state=N;const U=qr(N),I=qr($),R={};I.forEach((t=>{R[t]=ht(e,t,!1)}));const k=ht(e,a),P=R.$$global,V=Er(e,Hr("$$global"),"$$global",!1),L=me(qr(r),S),F="$$global"===a?V:Er(e,D,a,!0),H=(t,n)=>{vo(t,n,e)},z=(e,t,n,o,r,c)=>{const s={calledBy:n,module:e,reactCallback:o};j(r)?Object.assign(s,r):Object.assign(s,{renderKey:r,delay:c}),H(t,s)},B=(e,t,n,o,r)=>{z(e,t,"setModuleState",n,o,r)},q=(e,t,n,o,r)=>{const c=typeof e;if("string"===c)B(e,t,n,o,r);else if("function"===c){const r=e(Object.assign({},Z.unProxyState),Z.props);z(C,r,"setState",t,n,o)}else z(C,e,"setState",t,n,o)},G=(t,n,o)=>{z(C,e.unProxyState,"forceUpdate",t,n,o)},Y={},J=I.slice();tc(J,a);const X=xr(e.props),Z={type:u,insType:l,module:a,ccClassKey:i,ccKey:o,ccUniqueKey:O,renderCount:0,initTime:Date.now(),watchedKeys:h,privStateKeys:L,connect:$,connectedModules:I,allModules:J,__$$onEvents:[],__$$hasModuleState:S.length>0,__$$renderStatus:"0",__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:b.persistStoredKeys,storedKeys:b.storedKeys,renderKey:b.renderKey,tag:b.tag,prevProps:X,props:X,mapped:{},prevState:Object.assign({},N),state:Er(e,N,C,!0),unProxyState:N,moduleState:F,__$$mstate:D,globalState:V,connectedState:{},extra:Jr(t.extra)?t.extra:{},staticExtra:_,settings:{},refComputedValues:{},refComputedRawValues:{},moduleComputed:k,globalComputed:P,connectedComputed:R,moduleReducer:null,mrc:null,mrg:{},globalReducer:null,connectedReducer:{},reducer:{},stateKeys:U,computedDep:{},computedRetKeyFns:{},watchDep:{},watchRetKeyFns:{},execute:null,retKey2fnUid:{},reactSetState:Br,__boundSetState:w,reactForceUpdate:Br,__boundForceUpdate:E,setState:q,setModuleState:B,forceUpdate:G,changeState:H,refs:Y,useRef:e=>t=>{Y[e]={current:t}},__$$ccSetState:Yo(e),__$$ccForceUpdate:Jo(e),__$$settedList:[],__$$prevMoStateVer:{},__$$prevModuleVer:zr(C),__$$cuOrWaCalled:!1};!function(e,t,n){if(e)return t.ctx=n;const{__$$curWaKeys:o,__$$compareWaKeys:r,__$$compareWaKeyCount:c,__$$nextCompareWaKeys:s,__$$nextCompareWaKeyCount:a,__$$curConnWaKeys:i,__$$compareConnWaKeys:u,__$$compareConnWaKeyCount:l,__$$nextCompareConnWaKeys:d,__$$nextCompareConnWaKeyCount:f}=t.ctx;Object.assign(t.ctx,n,{__$$curWaKeys:o,__$$compareWaKeys:r,__$$compareWaKeyCount:c,__$$nextCompareWaKeys:s,__$$nextCompareWaKeyCount:a,__$$curConnWaKeys:i,__$$compareConnWaKeys:u,__$$compareConnWaKeyCount:l,__$$nextCompareConnWaKeys:d,__$$nextCompareConnWaKeyCount:f})}(K,e,Z),Z.refComputed=ht(e,null,!0,!0),e.setState=q,e.forceUpdate=G,function(e,t,n,o,r,c){t.initState=s=>{let a=s;if(A(s)&&(a=s()),!t.__$$inBM)return Zr("initState must been called in setup block!");if(!T(n))return Zr(`state ${v}`);if(t.__$$cuOrWaCalled)return Zr("initState must been called before computed or watch");const i=Object.assign({},n,a,o,r);return t.stateKeys=qr(i),t.privStateKeys=me(qr(i),c),t.prevState=Object.assign({},i),t.unProxyState=i,e.state=Object.assign(t.state,i),t}}(e,Z,r,M,D,S);const Q=function(e,t,n,o,r){const c=Qo(e,!1,!1,n);return t.dispatch=c,o>1&&(t.lazyDispatch=Qo(e,!0,!1,n),t.silentDispatch=Qo(e,!1,!0,n),t.dispatchLazy=t.lazyDispatch,t.dispatchSilent=t.silentDispatch,t.invoke=Xo(e),t.lazyInvoke=Xo(e,{isLazy:!0}),t.silentInvoke=Xo(e,{isLazy:!1,isSilent:!0}),t.invokeLazy=t.lazyInvoke,t.invokeSilent=t.silentInvoke,t.setGlobalState=(e,t,n,o)=>{r("$$global",e,"setState",t,n,o)}),c}(e,Z,C,n,z);!function(e,t,n){if(n>2){const n={},o=(t,o,r,c,s)=>{if("string"==typeof o){const a=typeof r;if(ec(r)&&("object"===a||a===x))return Ur.bind(null,{[d]:o,type:t,val:r,delay:s,rkey:c},e);const i=`${o}|${r}|${c}|${s}`;let u=n[i];return u||(n[i]=Ur.bind(null,{[d]:o,type:t,val:r,delay:s,rkey:c},e),u=n[i]),u}Ur({type:"val"},e,o)},r=e=>({get:(t,n)=>W(t,n)?o(e,n):Br});t.syncer=new Proxy(t.state,r("val")),t.syncerOfBool=new Proxy(t.state,r("bool")),t.sybo=t.syncerOfBool,t.sync=(e,t,n="",r=-1)=>o("val",e,t,n,r),t.syncBool=(e,t,n="",r=-1)=>o("bool",e,t,n,r),t.syncInt=(e,t,n="",r=-1)=>o("int",e,t,n,r),t.syncAs=(e,t,n="",r=-1)=>o("as",e,t,n,r),t.set=(t,n,o="",r=-1)=>{Ur({[d]:t,type:"val",val:n,delay:r,rkey:o},e)},t.setBool=(t,n="",o=-1)=>{Ur({[d]:t,type:"bool",delay:o,rkey:n},e)}}}(e,Z,n),ac(Z,n,O),uc(Z,n,C),function(e,t,n,o,r,c,s,a){const{connectedReducer:i,connectedState:u,__$$curConnWaKeys:l,__$$compareConnWaKeys:d,__$$compareConnWaKeyCount:f,__$$nextCompareConnWaKeys:y,__$$nextCompareConnWaKeyCount:p}=t;let m=!1;s.forEach((o=>{const s=sc(o,a);o===c?(t.moduleReducer=s,t.mrc=sc(o,a,1),(Vr[o]||[]).forEach((e=>{t.mrg[e]=sc(o,a,2,e)})),"$$global"===o&&(i[o]=s)):i[o]=s;const h=n[o];if(h){let n=Hr(o);"-"===h?(m=!0,l[o]={},d[o]={},f[o]=0,y[o]={},p[o]=0,n="$$global"===o?t.globalState:Er(e,n,o)):cc(r,o,h),u[o]=n}})),t.reducer=Pr,t.globalReducer=i.$$global,t.mr=t.moduleReducer,t.gr=t.globalReducer,t.cr=t.connectedReducer,t.r=t.reducer,"-"===o?m=!0:cc(r,c,o),t.__$$autoWatch=m}(e,Z,$,h,O,C,J,Q),Z.getWatchedKeys=()=>(e=>"-"===e.watchedKeys?"1"===e.__$$renderStatus?qr(e.__$$compareWaKeys):qr(e.__$$curWaKeys):e.watchedKeys)(e.ctx||Z),Z.getConnectWatchedKeys=t=>((e,t)=>{const{connect:n,connectedModules:o}=e,r=Array.isArray(n),c=t=>"1"===e.__$$renderStatus?qr(e.__$$compareConnWaKeys[t]):qr(e.__$$curConnWaKeys[t]),s=e=>{if(r)return c(e);{const t=n[e];return"*"===t?Fr(e):"-"===t?c(e):t}};if(t)return s(t);{const e={};return o.forEach((t=>{e[t]=s(t)})),e}})(e.ctx||Z,t)}const{okeys:dc}=Ue;const{isObjectNull:fc,makeError:yc}=Ue,{featureStr2classKey:pc,userClassKey2featureStr:mc,ccClassKey2Context:hc}=Ft;let $c=0;const{ccClassKey2Context:_c}=Ft;function Cc(e="$$default",t,n,o,r,c,s,a){!0===s&&function(){if(!0!==Ft.isStartup)throw new Error("you must startup cc by call startup method before register ReactClass to cc!")}();const i="cc"===a,u=n||[];Qt(e,!1,`module[${e}] not configured`),function(e){if(!Array.isArray(e)&&"*"!==e)throw new Error(`renderKeyClasses type err, it ${D}`)}(u);const l=Ar(c),d=function(e,t,n){if("$$Dispatcher"===t)return[];if(!n)return[];if("*"===n)return Ir(e);if("-"===n)return n;const{notArray:o,keyElementNotString:r}=Rr(n,[]);if(o||r){const e=jr(`ccClassKey:${t}`);throw new Error(`watchedKeys ${D} ${e}`)}return n}(e,t,r),f=function(e,t,n,o,r,c=""){if(!c){if("$$default"===t&&fc(n))return`${o}0`;const e=`${o}:${r}`;let c=pc[e];return c||($c++,c=`${o}${$c}`,pc[e]=c,c)}if(c.startsWith("$$Cc"))throw new Error(`user can not specify a classKey[${c}] starts with $$Cc`);if(!e&&c.toLowerCase()==="$$Dispatcher".toLowerCase())throw new Error("$$Dispatcher is cc built-in ccClassKey name.");if(hc[c]){if(mc[c]!==r)throw yc(y.CC_CLASS_KEY_DUPLICATE,`ccClassKey:[${c}] duplicate`)}else mc[c]=r;return c}(i,e,l,o,function(e,t,n){const o=dc(t);let r;return o.sort(),r="*"===n?"*":n.slice().join(","),`${e}/${o.join(",")}/${r}`}(e,l,u),t),p=function(e,t){let n;if(t){if(!Array.isArray(t)&&"*"!==t)throw new Error(`renderKeyClasses type err, it ${D}`);n=t}else n=[e];return n}(f,n);let m=_c[f];return m||(m=z(e,f,p),_c[f]=m),{_module:e,_connect:l,_ccClassKey:f,_watchedKeys:d}}const{isPJO:gc,okeys:Kc,isObject:Sc}=Ue;function wc(e,t){if(!gc(e))throw new Error(`${t} ${v}`)}function Ec(e){if(e.length>0){const t=Ft.plugins;t.length=0,tt.forEach((e=>nt[e].length=0));const n={};e.forEach((e=>{if(t.push(e),!e.install)throw new Error("a plugin must export install handler!");{const t=e.install(rt),o=new Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw o;const r=t.name;if(!r)throw o;if(n[r])throw new Error(`pluginName[${r}] duplicate`);n[r]=1}})),Ft.pluginNameMap=n}}const{justWarning:bc,makeError:xc,verboseInfo:Oc,styleStr:vc,color:Dc}=Ue,{runtimeVar:Mc,ccUKey2ref:Nc}=Ft;let Uc={};function Ic(e,t,n){const o=()=>{Nc[e]=t};Ft.isHotReloadMode()&&function(e){Q(Uc,e,1)}(e),n?setTimeout(o,n):o()}function Rc(e){const{ccClassKey:t,ccKey:n,ccUniqueKey:o}=e.ctx;Mc.isDebug&&console.log(vc(`register ccKey ${o} to CC_CONTEXT`),Dc());const r=Ft.isHotReloadMode();if(Nc[o]){const c=()=>{throw xc(y.CC_CLASS_INSTANCE_KEY_DUPLICATE,Oc(`ccClass:${t},ccKey:${n}`))};if(r){(function(e){return Uc[e]||0})(o)>1&&c(),bc(`\n        found ccKey[${n}] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        ${Oc(`ccClassKey:${t} ccKey:${n} ccUniqueKey:${o}`)}\n      `),Ic(o,e,600)}else c()}else Ic(o,e)}let jc=!1;function kc(e=!1,t){_t={},Ct={},Uc={},ae(Ft.event2handlers),ae(Ft.ccUKey2handlerKeys);const n=Ft.ccUKey2ref;ae(Ft.handlerKey2handler),ae(n,t);const{getModuleVer:o,incModuleVer:r,replaceMV:c}=Ft.store,s=o();ie(s).forEach((e=>{const t=s[e];r(e,t>5?1:6)}));const a=JSON.parse(JSON.stringify(s));if(e){const{computed:e,watch:t}=Ft,n=e._computedValues,o=t._watchDep;ie(Ft.store._state).forEach((r=>{"$$cc"!==r&&(n[r]&&(Ft.computed._computedDep[r]={retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0},Nn(r,e._computedRaw[r])),o[r]&&(o[r]={retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0},jn(r,t._watchRaw[r])))}))}return()=>{setTimeout((()=>{c(a),t.forEach((e=>{const t=n[e];t&&t.ctx.reactForceUpdate()}))}),0)}}function Tc(){const e=Ft.ccUKey2ref,t=[];return ie(e).forEach((n=>{const o=e[n];if(o&&2===o.__$$ms){const{type:e}=o.ctx;e===l&&t.push(n)}})),{ccFragKeys:[],ccClassInsKeys:t}}function Ac(){ae(Ft.globalStateKeys);const e=ie(Ft.moduleName2isConfigured).concat(["$$default","$$cc","$$global","$$CONCENT_ROUTER"]);ae(Ft.reducer._reducer,e),ae(Ft.store._state,e,{},!0),ae(Ft.computed._computedDep,e),ae(Ft.computed._computedValues,e),ae(Ft.watch._watchDep,e),ae(Ft.middlewares);const t=Ft.waKey2uKeyMap;ie(t).forEach((e=>{const n=t[e],o={};ie(n).forEach((e=>{e.startsWith(l)&&(o[e]=n[e])})),t[e]=o})),ae(Ft.lifecycle._mountedOnce),ae(Ft.lifecycle._willUnmountOnce),ae(Ft.module2insCount,[],0),Ge={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};const{ccClassInsKeys:n}=Tc();return kc(!1,n)}function Pc(e=!1){if(Ft.info.latestStartupTime=Date.now(),Ft.isStartup){if(Ft.isHotReloadMode()){if(e)return Ft.runtimeVar.log&&console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),jc=!0,Ac();{if(jc)return jc=!1,U;const e=Tc();return kc(Ft.reComputed,e.ccClassInsKeys)}}return console.warn("clear failed because of not running under hot reload mode!"),U}return jc=!0,U}const{justTip:Wc,bindToWindow:Vc,getErrStackKeywordLoc:Lc}=Ue;let Fc="";function Hc({store:e={},reducer:t={},ghost:n={},computed:o={},watch:r={},lifecycle:c={}}={},{plugins:s=[],middlewares:a=[],isStrict:i=!1,isDebug:d=!1,log:f=!0,errorHandler:y=null,warningHandler:p=null,isHot:m,alwaysRenderCaller:h=!0,bindCtxToMethod:$=!1,computedCompare:_=!1,watchCompare:C=!1,watchImmediate:g=!1,reComputed:K=!0,extractModuleChangedState:S=!0,extractRefChangedState:w=!1,objectValueCompare:E=!1,nonObjectValueCompare:b=!0,localStorage:x=null,act:O=null,asyncCuKeys:v=null}={}){try{throw new Error}catch(j){const{canStartup:k,resetClassInsUI:T}=function(e){const t=Ft.info;let n=Lc(e,"startup",2);n||(n=Lc(e,"runConcent",0));const o=()=>(Ft.isHot=!0,Pc(!0)),r=Date.now();let c=()=>{},s=!0;if(Fc)if(Fc!==n){const e="run can only been called one time, try refresh browser to avoid this error";if(r-t.latestStartupTime<1e3)throw new Error(e);Se()?(c=o(),Fc=n):(Z(e),s=!1)}else c=o();else Fc=n,t.firstStartupTime=r,t.latestStartupTime=r;return{canStartup:s,resetClassInsUI:c}}(j);if(!k)return;try{const j=Ft.runtimeVar,k=Ft.runtimeHandler;j.log=f,Wc(`concent version ${Ft.info.version}`),void 0!==m&&(Ft.isHot=m),Ft.reComputed=K,k.errorHandler=y,k.warningHandler=p,k.act=O,j.asyncCuKeys=v||[],j.alwaysRenderCaller=h,j.isStrict=i,j.isDebug=d,j.computedCompare=_,j.watchCompare=C,j.watchImmediate=g,j.extractModuleChangedState=S,j.extractRefChangedState=w,j.objectValueCompare=E,j.nonObjectValueCompare=b,j.bindCtxToMethod=$,x?Ft.localStorage=x:window&&window.localStorage&&(Ft.localStorage=window.localStorage),Ft.recoverRefState(),function(){const e="$$Dispatcher";Cc("$$default",e,"",l,[],[],!1,"cc");const t={setState:U,forceUpdate:U};lc(t,{module:"$$default",ccClassKey:e,state:{}}),Ft.permanentDispatcher=t}(),function(e){wc(e,"state"),delete e[u],delete e.$$cc,Sc(e.$$global)||(e.$$global={}),Sc(e.$$default)||(e.$$default={});const t=Kc(e),n=t.length;for(let o=0;o<n;o++){const n=t[o];an(n,e[n])}}(e),R=n,wc(I=t,"reducer"),Sc(I.$$default)||(I.$$default={}),Sc(I.$$global)||(I.$$global={}),Kc(I).forEach((e=>mn(e,I[e],R[e]))),wc(N=o,"computed"),Kc(N).forEach((e=>Nn(e,N[e]))),wc(M=r,"watch"),Kc(M).forEach((e=>jn(e,M[e]))),wc(D=c,"lifecycle"),Kc(D).forEach((e=>cr(e,D[e]))),function(e){if(e.length>0){const t=Ft.middlewares;t.length=0,e.forEach((e=>t.push(e)))}}(a);const A=e=>{Vc("CC_CONTEXT",Ft,e),Vc("ccc",Ft,e),Vc("cccc",Ft.computed._computedValues,e),Vc("sss",Ft.store._state,e)};window&&window.mcc?setTimeout((()=>{A(window.mcc[Ce()])}),1200):A(),Ft.isStartup=!0,Ec(s),T()}catch(e){Ft.runtimeHandler.tryHandleError(e)}}var D,M,N,I,R}const{isPJO:zc,okeys:Bc,evalState:qc,isFn:Gc}=Ue,Yc=e=>{throw new Error(`[[run]]: param error, ${e} ${v}`)};const{store:{getState:Jc}}=Ft;const{okeys:Xc,makeCuDepDesc:Zc,isFn:Qc}=Ue,{runtimeVar:es}=Ft;function ts(e,t,n,o){const r=e.ctx;if(e.__$$ms=1,r.__$$inBM=!0,t){const o="type of setup";if(!Qc(t))throw new Error(`${o} ${O}`);const c=t(r)||{};if(!T(c))throw new Error(`${o} return result ${v}`);(!0===n||!0===es.bindCtxToMethod&&!1!==n)&&Xc(c).forEach((t=>{const n=c[t];Qc(n)&&(c[t]=n.bind(e,r))})),Object.assign(r.settings,c)}o&&r.computed(o),r.refComputedValues=Dn(r.computedRetKeyFns,r.refComputedRawValues);const{computedDep:c,watchDep:s}=r;c.$$global||(c.$$global=Zc()),s.$$global||(s.$$global=Zc()),function(e){const t=e.ctx,{hasComputedFn:n,hasWatchFn:o,connectedModules:r,module:c,unProxyState:s}=t,a=we(c),i=t=>{t(e,c,s,s,a,!0),r.forEach((n=>{const o=Jc(n),r=we(n);t(e,n,o,o,r,!0)}))};n&&i(Gn),o&&i(qn)}(e),r.__$$inBM=!1}const{moduleName2stateKeys:ns,store:{getPrevState:os,getState:rs,getStateVer:cs}}=Ft,ss=(e,t)=>J(`effect: key[${e}] is invalid, its ${t} has not been declared in' store!`);function as(e,t){const n=e.ctx,{effectItems:o,eid2effectReturnCb:r,effectPropsItems:c,eid2effectPropsReturnCb:s}=n.effectMeta,{__$$prevMoStateVer:a,__$$settedList:i,module:u}=n,l=(e,t,o)=>r=>{const{fn:c,eId:s,immediate:a}=r;if(o&&!1===a)return;const i=e[s];i&&i(n);const u=c(n,t);e[s]=u};if(t)return o.forEach(l(r,!0,!0)),void c.forEach(l(s,!0,!0));const d=n.prevState,f=n.unProxyState,y=[];o.forEach((e=>{const{modDepKeys:t,depKeys:n,compare:o,fn:r,eId:c}=e;if(!n)return y.push({fn:r,eId:c});const s=t.length;if(0===s)return;const l=i.reduce(((e,{module:t,keys:n})=>(n.forEach((n=>e[`${t}/${n}`]=1)),e)),{});let p=!1;for(let e=0;e<s;e++){const n=t[e],[r,c]=n.split("/");let s,i;if(r!==u){const e=os(r),t=cs(r);if(a[c]===t[c])continue;if(a[c]=t[c],!e){ss(n,`module[${r}]`);continue}if(!ns[r].includes(c)){ss(n,`unmoduledKey[${c}]`);continue}s=rs(r),i=e}else s=f,i=d;const y=i[c]!==s[c];if(p=!!y||(o?y:l[n]),p)break}p&&y.push({fn:r,eId:c})})),y.forEach(l(r,!1,!1));const p=n.prevProps,m=n.props,h=[];c.forEach((e=>{const{depKeys:t,fn:n,eId:o}=e;if(!t)return h.push({fn:n,eId:o});const r=t.length;let c=!1;for(let e=0;e<r;e++){const n=t[e];if(p[n]!==m[n]){c=!0;break}}c&&h.push({fn:n,eId:o})})),h.forEach(l(s,!1,!1)),i.length=0}function is(e,t,n,o){const r=ie(e);if(0===r.length)return;let c=!1;r.forEach((t=>{2===e[t]&&(c=!0,We(n,t,o))})),r.length>t&&(c=!0),c&&on(n)}function us(e){const t=e.ctx;t.__$$renderStatus="2";const{module:n,connectedModules:o,connect:r,ccUniqueKey:c,__$$compareWaKeys:s,__$$compareWaKeyCount:a,__$$compareConnWaKeys:i,__$$compareConnWaKeyCount:u}=t;t.__$$autoWatch&&is(s,a,n,c),o.forEach((e=>{if("-"===r[e]){is(i[e],u[e],e,c)}}))}const{_lifecycle:ls,_mountedOnce:ds}=Be,{store:{getModuleVer:fs}}=Ft;function ys(e){us(e),e.__$$ms=2;const{ccUniqueKey:t,__$$onEvents:n,__$$staticWaKeys:o,module:r,allModules:c,__$$mstate:s,__$$prevModuleVer:a}=e.ctx;Rc(e),n.length>0&&(n.forEach((({inputEvent:n,handler:o})=>{const{name:c,identity:s}=Sr(n);!function(e,t,n,o,r,c){const s=_r(yr,o);if(!A(c))return Cr(`event ${o}'s handler ${O}!`);const a=$r(n,o,r),i=_r(mr,n),u=s.findIndex((e=>e.handlerKey===a)),l={event:o,module:e,ccClassKey:t,ccUniqueKey:n,identity:r,handlerKey:a,fn:c};u>-1?s[u]=l:(s.push(l),i.push(a)),pr[a]=l}(r,e.ctx.ccClassKey,t,c,s,o)})),n.length=0);const i=ie(o);e.ctx.__$$staticWaKeyList=i,i.forEach((e=>Le(e,t))),as(e,!0),function(e,t){e.forEach((e=>{Q(ze,e,1);const n=ls[e];if(!n)return;const o=n.mounted;if(o&&!0!==ds[e]&&1==ze[e]){const n=o(er(e),t);ds[e]=Ne(n,!0)}}))}(c,s),a!==fs(r)&&e.ctx.reactForceUpdate()}function ps(e){us(e),as(e),//!!! 将最新的state记录为prevState，方便下一轮渲染完毕执行triggerSetupEffect时做比较用
e.ctx.prevState=e.ctx.unProxyState}const{ccUKey2ref:ms,ccUKey2handlerKeys:hs,runtimeVar:$s,handlerKey2handler:_s}=Ft;function Cs(e){$s.isDebug&&console.log(G(`${e} unset ref`),q("purple")),delete ms[e],Ft.isHotReloadMode()&&function(e){ee(Uc,e,1)}(e);const t=hs[e];t&&t.forEach((e=>{delete _s[e]}))}const{_lifecycle:gs,_willUnmountOnce:Ks}=Be;function Ss(e,t){const n=n=>{const o=e[n];A(o)&&o(t)};Object.getOwnPropertySymbols(e).forEach(n),ie(e).forEach(n)}function ws(e){const t=e.__$$ms;e.__$$ms=3;const n=e.ctx,{ccUniqueKey:o,module:r,allModules:c,__$$staticWaKeyList:s,__$$mstate:a}=n;if(2===t){const{eid2effectReturnCb:e,eid2effectPropsReturnCb:t}=n.effectMeta;Ss(e,n),Ss(t,n),function(e){const t=mr[e];if(t){const e=[];t.forEach((t=>e.push(pr[t]))),Kr(e)}}(o)}n.getWatchedKeys().forEach((e=>We(r,e,o)));const i=n.getConnectWatchedKeys();ie(i).map((e=>{i[e].forEach((t=>We(e,t,o)))})),s.forEach((e=>Fe(e,o))),c.forEach(on),Cs(o),function(e,t){e.forEach((e=>{ze[e]-=1;const n=gs[e];if(!n)return;const o=n.willUnmount;if(o&&!0!==Ks[e]&&0===ze[e]){const n=o(er(e),t);Ks[e]=Ne(n,!0)}}))}(c,a)}function Es(e){const t=e.ctx;if(t.renderCount+=1,e.state=t.state,t.childRef&&(t.childRef.state=t.state),!t.__$$autoWatch||"1"===t.__$$renderStatus)return;"1"!==t.__$$renderStatus&&(t.__$$renderStatus="1"),t.__$$hasModuleState&&(t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0);const{connectedModules:n,connect:o}=t;n.forEach((e=>{"-"===o[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)}))}const{ccClassDisplayName:bs,shallowDiffers:xs,evalState:Os}=Ue,vs=e=>new Error(`can not defined setup both in register options and class body, --verbose: ${e}`);function Ds(e,t){const n=he(e);return delete n.__checkStartUp,delete n.__calledBy,function({module:e="$$default",state:t={},watchedKeys:n="-",storedKeys:r=[],setup:c=null,cuDesc:s=null,persistStoredKeys:a,connect:i={},extra:u={},staticExtra:d,tag:f,lite:y,isPropsProxy:p=!1,renderKeyClasses:m,__checkStartUp:h=!0,compareProps:$=!0,__calledBy:_}={},C=""){try{const{_module:g,_ccClassKey:K,_connect:S,_watchedKeys:w}=Cc(e,C,m,l,n,i,h,_);return function(e){if(e.prototype&&e.prototype.$$attach)throw new Error("register a cc class is prohibited!");const n=!1===p?e:o.Component,i=n.$$setup,m=class extends n{constructor(e,n){super(e,n);try{const n=Os(t),o=this.state||{},m=Object.assign(o,n);if(this.$$attach=this.$$attach.bind(this),lc(this,Object.assign({},e,{module:g,tag:f,state:m,type:l,insType:"$$CcCust",watchedKeys:w,ccClassKey:K,connect:S,storedKeys:r,persistStoredKeys:a,extra:u,staticExtra:d}),y),this.ctx.reactSetState=nr(this),this.ctx.reactForceUpdate=or(this),c&&(this.$$setup||i))throw vs(`ccUniqueKey ${this.ctx.ccUniqueKey}`);p||(this.$$setup&&(this.$$setup=this.$$setup.bind(this)),ts(this,c||this.$$setup||i,!1,s))}catch(e){Ie.tryHandleError(e)}}shouldComponentUpdate(e,t){const n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(super.shouldComponentUpdate)return super.shouldComponentUpdate(e,t);const o=!!$&&xs(this.props,e);return this.state!==t||o}//!!! 存在多重装饰器时, 或者用户想使用this.props.***来用concent类时
//!!! 必需在类的【constructor】 里调用 this.props.$$attach(this),紧接着state定义之后
$$attach(e){const t=this.ctx;if(t.childRef=e,e.ctx=t,e.setState=t.setState,e.forceUpdate=t.forceUpdate,I(e.state)&&Object.assign(t.state,e.state,t.__$$mstate),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),c&&(e.$$setup||i))throw vs(`ccUniqueKey ${t.ccUniqueKey}`);ts(this,c||e.$$setup||i,!1,s),Es(this)}componentDidMount(){if(p&&!this.ctx.childRef)throw new Error("forget call props.$$attach(this) in constructor when set isPropsProxy true");super.componentDidMount&&super.componentDidMount(),ys(this)}componentDidUpdate(e,t,n){super.componentDidUpdate&&super.componentDidUpdate(e,t,n),ps(this)}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),ws(this)}render(){const t=this.props;if(this.ctx.prevProps=this.ctx.props,this.ctx.props=t,Es(this),!1===p)return super.render();{const n={...t,ctx:this.ctx,$$attach:this.$$attach};return o.createElement(e,n)}}};return m.displayName=bs(K),m}}catch(e){Ie.tryHandleError(e)}}(n,t)}const{getRegisterOptions:Ms,evalState:Ns}=Ue;function Us(e,t){const n=Ms(t.register),{module:o,renderKeyClasses:r,tag:c,lite:s,compareProps:a=!0,setup:i,bindCtxToMethod:u,watchedKeys:d="-",connect:f={},storedKeys:y=[],cuDesc:p=null}=n,m=Ns(n.state),{ccClassKey:h,ccKey:$,ccOption:_={},id:C}=t;let g=d,K=h,S=f,w="$$CcCust";if(!0!==t.__$$regDumb){w="$$CcFrag";const{_ccClassKey:e,_connect:t,_watchedKeys:n}=Cc(o,h,r,l,d,f,!0);g=n,K=e,S=t}lc(e,{ccKey:$,connect:S,state:m,module:o,type:l,insType:w,storedKeys:y,watchedKeys:g,tag:c,ccClassKey:K,ccOption:_,id:C},s),e.ctx.reactSetState=nr(e),e.ctx.reactForceUpdate=or(e),e.__$$compareProps=a,ts(e,i,u,p)}const Is=e=>e?Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):e:"";function Rs(e,t){return"string"==typeof e&&e!==t||(e.module!==t.module||Is(e.connect)!==Is(t.connect))}const{shallowDiffers:js,isFn:ks}=Ue,Ts=o.createElement("span",{style:{display:"none"}});class As extends o.Component{constructor(e,t){super(e,t),Us(this,e)}componentDidMount(){ys(this)}shouldComponentUpdate(e,t){const n=xr(e),o=!!this.__$$compareProps&&js(n,xr(this.props));return o&&Rs(n.register,this.props.register)?(ws(this),Us(this,n),ys(this),this.ctx.reactForceUpdate(),!1):this.state!==t||o}componentDidUpdate(){ps(this)}componentWillUnmount(){ws(this)}render(){const e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=xr(e);const{children:t,render:n}=e,r=n||t;if(ks(r)){Es(this);const{__$$regDumb:t,register:n={}}=e,o=this.ctx;return!0!==t&&n.mapProps?(o.mapped=n.mapProps(o)||{},r(o.mapped)||Ts):r(o)||Ts}if(o.isValidElement(r))throw new Error("CcFragment's children can not b a react dom");return r}}function Ps(e,t){const n=he(e),{renderKeyClasses:r,module:c,watchedKeys:s="-",render:a,connect:i={}}=n,{_module:u,_ccClassKey:l,_connect:d,_watchedKeys:f}=Cc(c,t,r,"$$CcFrag",s,i,!0);function y(e){return t=>(n.props=t,function(e,t){const{ccClassKey:n,mapProps:r,props:c={}}=t,s={__$$regDumb:!0,props:c,ccOption:c.ccOption,ccClassKey:n,render:t=>r?(t.mapped=r(t),o.createElement(e,t.mapped)):o.createElement(e,t),ccKey:c.ccKey,register:t};return o.createElement(As,s)}(e,n))}return n.module=u,n.watchedKeys=f,n.ccClassKey=l,n.connect=d,a?y(a):e=>y(e)}let Ws=!0,Vs=!1;const{ccUKey2ref:Ls}=Ft,Fs={};let Hs=1;function zs(e,t,n,o){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n,this.hookCtx=o}function Bs(e,t,n,r,c,s,a,i,u,l){Hs+=1,Fs[n.cursor]=n;const d=r||Ee(c),{renderKeyClasses:f,module:y,watchedKeys:p="-",connect:m={},setup:h,lite:$,cuDesc:_,bindCtxToMethod:C}=s,{_module:g,_ccClassKey:K,_connect:S,_watchedKeys:w}=Cc(y,l,f,"$$CcHook",p,m,!0),E=e||new zs(a,i,u,n);n.hookRef=E;const b=Object.assign({},s,{module:g,watchedKeys:w,state:d,type:"$$CcHook",insType:t,ccClassKey:K,connect:S,ccOption:u.ccOption,id:u.id,ccKey:u.ccKey});E.props=u,lc(E,b,$),E.ctx.reactSetState=nr(E),E.ctx.reactForceUpdate=or(E);const x=E.ctx;return x.props=u,ts(E,h,C,_),n.prevCcUKey=n.ccUKey,n.ccUKey=E.ctx.ccUniqueKey,x.useRef=function(e){const t=o.useRef(null);return x.refs[e]=t,t},E}function qs(e){return e.prevCcUKey||e.ccUKey}function Gs(e={},t,n){const r=Hs,c=he(e),s=o.useRef({cursor:r,prevCcUKey:null,ccUKey:null,regOpt:c,ef:0}).current,{state:a={},props:i={},mapProps:u,layoutEffect:l=!1,extra:d}=c,f=o.useState;if(!f)throw new Error("react version is LTE 16.8");const y=r===s.cursor,p=y?Ee(a):0,[m,h]=f(p),$=e=>Bs(e,n,s,p,a,c,m,h,i,t);let _;if(y||Rs(s.regOpt,c))s.regOpt=c,_=$();else if(_=Ls[s.ccUKey],_){const e=_.ctx;e.prevProps=e.props,e.props=i,_.props=i,j(d)&&Object.assign(e.extra,d)}else _=$();const C=_.ctx,g=l?o.useLayoutEffect:o.useEffect;if(g((()=>{const e=_.hookCtx;return e.ef=1,()=>{const t=Ls[qs(e)];e.prevCcUKey=null,t&&ws(t),delete Fs[r]}}),[_]),g((()=>{!function(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}(C,h),!_.isFirstRendered&&Ls[qs(s)]?ps(_):(_.isFirstRendered=!1,ys(_));const e=s.cursor;if(function(e){return Ws&&(Ws=!1,Vs=e%2==0),Vs}(e)&&!s.clearPrev){s.clearPrev=!0;const t=e-1,n=Fs[t];if(n&&0===n.ef){if(de(n.regOpt,s.regOpt))return void(Vs=!1);n.hookRef.ctx.ccClassKey===s.hookRef.ctx.ccClassKey&&(delete Fs[t],ws(n.hookRef))}}})),Es(_),u){const e=u(C);if(!T(e))throw new Error(`mapProps ret ${v}`);C.mapped=e}return C}function Ys(e,t){return Gs(e,t,"$$CcCust")}function Js(){throw new Error("api doc: cc.setState(module:string, state:object, renderKey:string | string[], delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}const Xs=Ft.store.getGlobalState,Zs=Ft.computed._computedValues;const Qs=Ft.computed._computedValues;var ea=e=>e?Qs[e]:Qs;function ta(e){const t=Ft.computed._computedRaw[e],n={};if(!t)return n;return ie(t).forEach((t=>n[t]=ea(e)[t])),n}function na(e){const t=Ft.ccUKey2ref;let n={};"string"==typeof e?n={ccClassKey:e}:j(e)&&(n=e);const{ccClassKey:o,tag:r,moduleName:c,includeNotMount:s=!1}=n,a=[],i=ie(t),u=i.length,l=(e,t)=>!e||e===t;for(let e=0;e<u;e++){const n=t[i[e]],u=n.__$$ms;if(s){if(3===u)continue}else if(2!==u)continue;const d=n.ctx;l(o,d.ccClassKey)&&l(r,d.tag)&&l(c,d.module)&&a.push(n)}return a}const oa=Ft.store.appendState,ra=Ft.reducer._caller,ca=()=>"miss render prop or children";let sa=()=>o.createElement("h1",{},"Ob component needs react ver lte 16.8");o.memo&&(sa=o.memo((function(e){const{module:t,connect:n,classKey:o,render:r,children:c}=e;if(t&&n)throw new Error("module, connect can not been supplied both");if(!t&&!n)throw new Error("module or connect should been supplied");const s=r||c||ca,a=t?{module:t}:{connect:n};a.lite=1;const i=Gs(a,o,"$$CcOb");const{mr:u,cr:l,r:d}=i;let f,y;return t?(f=i.moduleState,y=i.moduleComputed):(f=i.connectedState,y=i.connectedComputed),s([f,y,{mr:u,cr:l,r:d}])})));var aa=sa;"undefined"==typeof window&&global&&(global.window={});const ia=(e,t,n={})=>{const{state:o,reducer:r,computed:c,watch:s}=n;if(!Ft.isStartup)throw new Error("cc is not startup yet");Zt(e),Qt(t,!1);const a=Ft.moduleName2stateFn[t];if(!a)throw new Error(`target module[${t}] state must be a function when use cloneModule`);const i=a();Object.assign(i,Ee(o));const u=Ft.reducer._reducer[t];dr(e,{state:i,reducer:Object.assign(fr(u,e),fr(r,e)),computed:Object.assign({},Ft.computed._computedRaw[t],c),watch:Object.assign({},Ft.watch._watchRaw[t],s),lifecycle:Object.assign({},Ft.lifecycle._lifecycle[t],sr(n))})},ua=function(e={},t={}){zc(e)||Yc("store"),zc(t)||Yc("options");const n={store:{},reducer:{},ghost:{},watch:{},computed:{},lifecycle:{}},o=(e,t)=>{const{state:o,reducer:r,watch:c,computed:s,ghosts:a=[]}=t;if(n.store[e])throw new Error(`run api error: module[${e}] duplicate`);n.store[e]=qc(o),Gc(o)&&(Ft.moduleName2stateFn[e]=o),n.reducer[e]=r,n.ghost[e]=a,n.watch[e]=c,n.computed[e]=s,n.lifecycle[e]=sr(t)};Bc(e).forEach((t=>o(t,e[t]))),Ht.forEach((({module:e,config:t})=>{n.store[e]||o(e,t)})),Ht.length=0,Hc(n,t)},la=function(e,t){let n=he(e);function r(e){const{memo:r=!0}=n;delete n.memo;const c=()=>function(r){n.props=r;const c=Ys(n,t);return n.mapProps?o.createElement(e,c.mapped):o.createElement(e,c)};return r&&o.memo?o.memo(c()):c()}A(n.state)&&(n=Object.assign({},n),n.state=n.state());const c=n.render;return c?r(c):e=>r(e)},da=dr,fa=e=>Ft.store.getState(e),ya=ea,pa=Ft,ma=ra,ha=Ys,$a={cloneModule:ia,emit:function(e,...t){if(!e)return;const n=un();n&&n.ctx.emit(e,...t)},off:function(e,t){const n=un();n&&n.ctx.off(e,t)},connect:function(e,t){return Ds({connect:e||[]},t)},connectDumb:function(e,t){return Ps({connect:e||[]},t)},register:Ds,registerDumb:Ps,registerHookComp:la,configure:da,dispatch:pn,run:ua,setGlobalState:function(e,t,n,o){un().ctx.setGlobalState(e,t,n,o)},setState:function(e,t,n,o=-1,r,c=!1){void 0===e&&void 0===t&&Js(),"string"!=typeof e&&Js(),function(e,t,n,o=-1,r){Do(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:o,skipMiddleware:r})}(e,t,n,o,r)},set:function(e,t,n,o){un().ctx.set(e,t,n,o)},getGlobalState:Xs,getState:fa,getComputed:ya,debugComputed:function(e){if(e)return ta(e);const t=ie(Ft.store._state),n={};return t.forEach((e=>n[e]=ta(e))),n},getGlobalComputed:()=>Zs.$$global,ccContext:pa,execute:(e,...t)=>{na(e).forEach((e=>{e.ctx.execute&&e.ctx.execute(...t)}))},executeAll:(...e)=>{na().forEach((t=>{t.ctx.execute&&t.ctx.execute(...e)}))},getRefs:na,getRef:e=>na(e)[0],reducer:ma,clearContextIfHot:Pc,CcFragment:As,Ob:aa,cst:m,appendState:oa,useConcent:ha,bindCcToMcc:function(e){if(!_a)throw new Error("current env is not multi concent ins mode");if(_a[e])throw new Error(`ccNamespace[${e}] already existed in window.mcc`);_e(e),le(e,$a,_a)},defComputed:(e,t)=>De(e,t),defLazyComputed:(e,t)=>{const n=De(e,t);return n.lazy=!0,n},defComputedVal:e=>({fn:()=>e,depKeys:[]}),defWatch:(e,t)=>De(e,t)};let _a=null;function Ca(){const e=ge();if(e&&e.ccContext&&e.ccContext.info){const t=e.ccContext.info.version,n=pa.info.version;if(t!==n)throw new Error(`concent ver conflict! cur[${t}]-new[${n}], refresh browser or reinstall some concent-eco-lib`)}}window&&(_a=window.mcc,_a?setTimeout((()=>{if(!Ce())throw new Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");Ca()}),1e3):(Ca(),le("cc",$a)));function ga(e){var t=c(e);return null===e?"null":"object"===t?{"[object Array]":"array","[object Object]":"object","[object Number]":"number","[object Boolean]":"boolean","[object String]":"string"}[Object.prototype.toString.call(e)]:t}function Ka(e){var t;if("object"===c(e))if(Array.isArray(e))for(var n in t=[],e)t.push(Ka(e[n]));else if(null===e)t=null;else if(e.constructor===RegExp)t=e;else for(var o in t={},e)t[o]=Ka(e[o]);else t=e;return t}var Sa={fn:function(e,t,n){var o=e.lang,r=e.message;try{return r[o]?r[o]:{}}catch(e){return console.warn("cxy-react-i18n error:",e),{}}},depKeys:["lang","message"],compare:!0};var wa={state:{lang:"",message:{}},reducer:Object.freeze({__proto__:null,setLang:function(e,t,n){if(e)if("string"!==ga(e))console.warn("cxy-react-i18n 设置语言 新语言类型格式错误,期望:string");else{if(n.moduleComputed.i18nLangObj[e])return{lang:Ka(e)};console.warn("cxy-react-i18n 设置语言 新语言类型的包未定义")}else console.warn("cxy-react-i18n 设置语言 值不能为空")},setMessage:function(e,t,n){if(e)if("object"!==ga(e))console.warn("cxy-react-i18n 设置语言包 值的类型不正确,需要一个对象");else{if(!t.lang||e[t.lang])return{message:i({},e)};console.warn("cxy-react-i18n 设置语言包 当前正在使用的语言在新语言包中不存在,请补充/先重置正在使用的语言包")}else console.warn("cxy-react-i18n 设置语言包 值不能为空")},addMessageItem:function(e,t,n){if(e){if("object"===ga(e))return{message:Ka(i(i({},t.message),e))};console.warn("cxy-react-i18n 添加新语言包 值的类型不正确,需要一个对象")}else console.warn("cxy-react-i18n 添加新语言包 值不能为空")},deleteMessageItem:function(e,t,n){var o=n.moduleComputed.i18nLangObj,r=void 0===o?{}:o;if(e)if("string"!==ga(e))console.warn("cxy-react-i18n 删除语言包 值类型错误");else{if(r[e]){var c=Ka(t.message);return delete c[e],{message:c}}console.warn("cxy-react-i18n 删除语言包 指定的语言包key不存在")}else console.warn("cxy-react-i18n 删除语言包 值不能为空")},addMessageText:function(e,t,n){if(e){if("object"===ga(e)){var o=n.moduleComputed.i18nLangKey;if(o&&o.length){var r=Ka(t.message);return o.forEach((function(t){r[t]=i(i({},r[t]),e[t])})),{message:r}}return{message:Ka(e)}}console.warn("cxy-react-i18n 添加已有语言包内容 值的类型不正确,需要一个对象")}else console.warn("cxy-react-i18n 添加已有语言包内容 值不能为空")},updateMessageText:function(e,t,n){if(e){if("object"===ga(e)){var o=Ka(t.message),r=[];for(var c in e)if(o[c])for(var s in e[c])o[c][s]=e[c][s];else r.push(c);return r.length&&console.warn("cxy-react-i18n 添加语言包 未添加的语言包类型:".concat(r.join("、"),",原因：已有语言类型中不存在这些语言类型")),{message:o}}console.warn("cxy-react-i18n 更新语言包内容 值的类型不正确,需要一个对象")}else console.warn("cxy-react-i18n 更新语言包内容 值不能为空")},deleteMessageText:function(e,t,n){if(e)if("string"!==ga(e))console.warn("cxy-react-i18n 删除语言包对应文本 值类型错误");else{if(-1!==n.moduleComputed.I18nMessageKeys.indexOf(e)){var o=Ka(t.message);for(var r in o)delete o[r][e];return{message:o}}console.warn("cxy-react-i18n 删除语言包对应文本 值不存在于当前语言包内")}else console.warn("cxy-react-i18n 删除语言包对应文本 值不能为空")}}),computed:Object.freeze({__proto__:null,i18nMessage:Sa,i18nLangObj:function(e){var t=e.message;try{var n={};for(var o in t)n[o]=o;return n}catch(e){return{}}},i18nLangKey:function(e){var t=e.message;try{return Object.keys(t)}catch(e){return[]}},i18nMessageKeys:function(e,t,n){var o=e.message;try{var r=n.cuVal.i18nLangKey;return r[0]?Object.keys(o[r[0]]):[]}catch(e){return[]}}}),watch:Object.freeze({__proto__:null,watch_lang_message:{fn:function(e,t,n){var o=e.lang,r=e.message;o&&!r[o]&&n.cuVal.i18nLangKey[0]&&n.refCtx.mr.setLang(n.cuVal.i18nLangKey[0])},depKeys:["lang","message"],compare:!0,immediate:!0}})},Ea=i({},wa);function ba(e){var t=e.i18nKey,n=ha({module:"cxy_react_i18n"}).moduleComputed.i18nMessage;return t&&n[t]?n[t]:t}var xa=function(e){return r.default.createElement(ba,{i18nKey:e})},Oa=function(){return ua(s({},"cxy_react_i18n",wa),{middlewares:[],plugins:[],isHot:!0,isStrict:!1,log:!1,alwaysRenderCaller:!0,computedCompare:!0,watchCompare:!0,watchImmediate:!0,reComputed:!0,objectValueCompare:!0,nonObjectValueCompare:!0,localStorage:!0})},va=function(){return da("cxy_react_i18n",wa)},Da=i({},Ea),Ma="cxy_react_i18n",Na=function(){var e;return(e=ma[Ma]).setLang.apply(e,arguments)},Ua=function(){return fa(Ma).lang},Ia=function(){return fa(Ma).message},Ra=function(){var e;(e=ma[Ma]).setMessage.apply(e,arguments)},ja=function(){var e;return(e=ma[Ma]).addMessageItem.apply(e,arguments)},ka=function(){var e;return(e=ma[Ma]).deleteMessageItem.apply(e,arguments)},Ta=function(){var e;return(e=ma[Ma]).addMessageText.apply(e,arguments)},Aa=function(){var e;return(e=ma[Ma]).updateMessageText.apply(e,arguments)},Pa=function(){var e;return(e=ma[Ma]).deleteMessageText.apply(e,arguments)},Wa=function(e){try{return e?ya(Ma)[e]:null}catch(e){return null}},Va=i({},Ea),La=Oa,Fa=va,Ha=xa,za=Ua,Ba=Na,qa=Ia,Ga=Ra,Ya=ja,Ja=ka,Xa=Ta,Za=Aa,Qa=Pa,ei=Wa,ti=i({},Object.freeze({__proto__:null,renderI18nKeyToText:xa,i18nRun:Oa,i18nRunModel:va,i18nModel:Da,MODEL_NAME:Ma,setLang:Na,getLang:Ua,getMessage:Ia,setMessage:Ra,addMessageItem:ja,deleteMessageItem:ka,addMessageText:Ta,updateMessageText:Aa,deleteMessageText:Pa,getComputed:Wa,im:Va,ir:La,irm:Fa,fr:Ha,gl:za,sl:Ba,gm:qa,sm:Ga,ami:Ya,dmi:Ja,at:Xa,ut:Za,dt:Qa,gc:ei}));module.exports=ti;
